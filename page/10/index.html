<!DOCTYPE html>


<html lang="zh-CN">
  

    <head>
      <meta charset="utf-8" />
        
      <meta
        name="viewport"
        content="width=device-width, initial-scale=1, maximum-scale=1"
      />
      <title> Movle</title>
  <meta name="generator" content="hexo-theme-ayer">
      
      <link rel="shortcut icon" href="https://img-blog.csdnimg.cn/20200609161448519.jpg" />
       
<link rel="stylesheet" href="/dist/main.css">

      <link
        rel="stylesheet"
        href="https://cdn.jsdelivr.net/gh/Shen-Yu/cdn/css/remixicon.min.css"
      />
      
<link rel="stylesheet" href="/css/custom.css">
 
      <script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script>
       
 

      <link
        rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/@sweetalert2/theme-bulma@5.0.1/bulma.min.css"
      />
      <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.0.19/dist/sweetalert2.min.js"></script>

      <!-- mermaid -->
      
      <style>
        .swal2-styled.swal2-confirm {
          font-size: 1.6rem;
        }
      </style>
    </head>
  </html>
</html>


<body>
  <div id="app">
    
      
    <main class="content on">
      
<section class="cover">
    
      
      <a class="forkMe" href="https://github.com/Shen-Yu/hexo-theme-ayer"
        target="_blank"><img width="149" height="149" src="/images/forkme.png"
          class="attachment-full size-full" alt="Fork me on GitHub" data-recalc-dims="1"></a>
    
  <div class="cover-frame">
    <div class="bg-box">
      <img src="https://img-blog.csdnimg.cn/2020060916514052.png" alt="image frame" />
    </div>
    <div class="cover-inner text-center text-white">
      <h1><a href="/">Movle</a></h1>
      <div id="subtitle-box">
        
        <span id="subtitle"></span>
        
      </div>
      <div>
        
      </div>
    </div>
  </div>
  <div class="cover-learn-more">
    <a href="javascript:void(0)" class="anchor"><i class="ri-arrow-down-line"></i></a>
  </div>
</section>



<script src="https://cdn.jsdelivr.net/npm/typed.js@2.0.11/lib/typed.min.js"></script>


<!-- Subtitle -->

  <script>
    try {
      var typed = new Typed("#subtitle", {
        strings: ['种一棵树，最好的时机是十年前，其次是现在', '人必有痴，而后有成', '今天，我没有浑浑噩噩的度过'],
        startDelay: 0,
        typeSpeed: 200,
        loop: true,
        backSpeed: 100,
        showCursor: true
      });
    } catch (err) {
      console.log(err)
    }
  </script>
  
<div id="main">
  <section class="outer">
  
  
  

<div class="notice" style="margin-top:50px">
    <i class="ri-heart-fill"></i>
    <div class="notice-content" id="broad"></div>
</div>
<script type="text/javascript">
    fetch('https://v1.hitokoto.cn')
        .then(response => response.json())
        .then(data => {
            document.getElementById("broad").innerHTML = data.hitokoto;
        })
        .catch(console.error)
</script>

<style>
    .notice {
        padding: 20px;
        border: 1px dashed #e6e6e6;
        color: #969696;
        position: relative;
        display: inline-block;
        width: 100%;
        background: #fbfbfb50;
        border-radius: 10px;
    }

    .notice i {
        float: left;
        color: #999;
        font-size: 16px;
        padding-right: 10px;
        vertical-align: middle;
        margin-top: -2px;
    }

    .notice-content {
        display: initial;
        vertical-align: middle;
    }
</style>
  
  <article class="articles">
    
    
    
    
    <article
  id="post-Spark HA的实现"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/03/10/Spark%20HA%E7%9A%84%E5%AE%9E%E7%8E%B0/"
    >Spark HA的实现</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2020/03/10/Spark%20HA%E7%9A%84%E5%AE%9E%E7%8E%B0/" class="article-date">
  <time datetime="2020-03-10T05:00:00.000Z" itemprop="datePublished">2020-03-10</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/Spark/">Spark</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LTY5ZmJjMTRhZmM0NTk0NjAucG5n?x-oss-process=image/format,png" alt="分布式的HA"></p>
<h4 id="1-基于文件系统的单点恢复-注意：不能用于生产，主要用于开发和测试"><a href="#1-基于文件系统的单点恢复-注意：不能用于生产，主要用于开发和测试" class="headerlink" title="1.基于文件系统的单点恢复(注意：不能用于生产，主要用于开发和测试)"></a>1.基于文件系统的单点恢复(注意：不能用于生产，主要用于开发和测试)</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;主要用于开发或测试环境。当spark提供目录保存spark Application和worker的注册信息，并将他们的恢复状态写入该目录中，这时，一旦Master发生故障，就可以通过重新启动Master进程(sbin/start-master.sh)，恢复已运行的spark Application和worker的注册信息。</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;基于文件系统的单点恢复，主要是在spark-env.sh里对SPARK_DAEMON_JAVA_OPTS设置</p>
<table>
<thead>
<tr>
<th align="center">配置参数</th>
<th align="center">参考值</th>
</tr>
</thead>
<tbody><tr>
<td align="center">spark.deploy.recoveryMode</td>
<td align="center">设置为FILESYSTEM开启单点恢复功能，默认值：NONE</td>
</tr>
<tr>
<td align="center">spark.deploy.recoveryDirectory</td>
<td align="center">Spark 保存恢复状态的目录</td>
</tr>
</tbody></table>
<h5 id="1-在spark-env-sh中添加"><a href="#1-在spark-env-sh中添加" class="headerlink" title="(1)在spark-env.sh中添加"></a>(1)在spark-env.sh中添加</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export SPARK_DAEMON_JAVA_OPTS=&quot;-Dspark.deploy.recoveryMode=FILESYSTEM -Dspark.deploy.recoveryDirectory=/opt/module/spark-2.1.0-bin-hadoop2.7/recovery&quot;</span><br></pre></td></tr></table></figure>

<h5 id="2-测试："><a href="#2-测试：" class="headerlink" title="(2)测试："></a>(2)测试：</h5><p>a.在hadoop1上启动Spark集群<br>b.在hadoop2上启动spark shell</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">MASTER=spark://hadoop1:7077 spark-shell</span><br></pre></td></tr></table></figure>
<p>c.在hadoop1上停止master</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">stop-master.sh</span><br></pre></td></tr></table></figure>
<p>d.观察hadoop2上的输出:<br><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LTM3ODllZTBkNzI4MWNlN2MucG5n?x-oss-process=image/format,png"></p>
<p>e.在hadoop1上重启master</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">start-master.sh</span><br></pre></td></tr></table></figure>

<h4 id="2-基于Zookeeper的Standby-Masters"><a href="#2-基于Zookeeper的Standby-Masters" class="headerlink" title="2.基于Zookeeper的Standby Masters"></a>2.基于Zookeeper的Standby Masters</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;ZooKeeper提供了一个Leader Election机制，利用这个机制可以保证虽然集群存在多个Master，但是只有一个是Active的，其他的都是Standby。当Active的Master出现故障时，另外的一个Standby Master会被选举出来。由于集群的信息，包括Worker， Driver和Application的信息都已经持久化到ZooKeeper，因此在切换的过程中只会影响新Job的提交，对于正在进行的Job没有任何的影响。加入ZooKeeper的集群整体架构如下图所示。</p>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LTY0YTk3ZmMwNzhkZTdhOWUucG5n?x-oss-process=image/format,png"></p>
<table>
<thead>
<tr>
<th align="center">配置参数</th>
<th align="center">参考值</th>
</tr>
</thead>
<tbody><tr>
<td align="center">spark.deploy.recoveryMode</td>
<td align="center">设置为ZOOKEEPER开启单点恢复功能，默认值：NONE</td>
</tr>
<tr>
<td align="center">spark.deploy.zookeeper.url</td>
<td align="center">ZooKeeper集群的地址</td>
</tr>
<tr>
<td align="center">spark.deploy.zookeeper.dir</td>
<td align="center">Spark信息在ZK中的保存目录，默认：/spark</td>
</tr>
</tbody></table>
<h5 id="1-做法："><a href="#1-做法：" class="headerlink" title="(1)做法："></a>(1)做法：</h5><p>(a)在每个节点中的spark-env.sh文件中添加以下代码：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export SPARK_DAEMON_JAVA_OPTS=&quot;-Dspark.deploy.recoveryMode=ZOOKEEPER -Dspark.deploy.zookeeper.url=hadoop1:2181,hadoop2:2181,hadoop3:2181 -Dspark.deploy.zookeeper.dir=/spark&quot;</span><br></pre></td></tr></table></figure>
<p>(b)另外：每个节点上，需要将以下两行注释掉。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> <span class="built_in">export</span> SPARK_MASTER_HOST=hadoop1</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> <span class="built_in">export</span> SPARK_MASTER_PORT=7077</span></span><br></pre></td></tr></table></figure>

<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LTRjM2IxNTk3ZTI0YWI1NzQucG5n?x-oss-process=image/format,png"></p>
<p>(c )start-all启动spark集群<br>从任意Worker节点，再启动一个Master</p>
<p>(d)ZooKeeper中保存的信息</p>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LTM5ZTAzYmRiMzI1MmRlMGMucG5n?x-oss-process=image/format,png"></p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Spark/" rel="tag">Spark</a></li></ul>

    </footer>
  </div>

    
 
    
</article>

    
    <article
  id="post-Spark安装配置：伪分布式安装和全分布式安装"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/03/10/Spark%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE%EF%BC%9A%E4%BC%AA%E5%88%86%E5%B8%83%E5%BC%8F%E5%AE%89%E8%A3%85%E5%92%8C%E5%85%A8%E5%88%86%E5%B8%83%E5%BC%8F%E5%AE%89%E8%A3%85/"
    >Spark-安装配置：伪分布式安装和全分布式安装</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2020/03/10/Spark%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE%EF%BC%9A%E4%BC%AA%E5%88%86%E5%B8%83%E5%BC%8F%E5%AE%89%E8%A3%85%E5%92%8C%E5%85%A8%E5%88%86%E5%B8%83%E5%BC%8F%E5%AE%89%E8%A3%85/" class="article-date">
  <time datetime="2020-03-10T04:00:00.000Z" itemprop="datePublished">2020-03-10</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/Spark/">Spark</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h4 id="0-准备工作：安装JDK，配置主机名，免密登陆"><a href="#0-准备工作：安装JDK，配置主机名，免密登陆" class="headerlink" title="0.准备工作：安装JDK，配置主机名，免密登陆"></a>0.准备工作：安装JDK，配置主机名，免密登陆</h4><h3 id="一-伪分布模式搭建："><a href="#一-伪分布模式搭建：" class="headerlink" title="一.伪分布模式搭建："></a>一.伪分布模式搭建：</h3><h4 id="1-解压"><a href="#1-解压" class="headerlink" title="1.解压"></a>1.解压</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar -zxvf spark-2.1.0-bin-hadoop2.7.tgz -C /opt/module</span><br></pre></td></tr></table></figure>
<h4 id="2-修改配置文件："><a href="#2-修改配置文件：" class="headerlink" title="2.修改配置文件："></a>2.修改配置文件：</h4><h5 id="1-修改spark-env-sh"><a href="#1-修改spark-env-sh" class="headerlink" title="(1)修改spark-env.sh"></a>(1)修改spark-env.sh</h5><p>重命名(拷贝)：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cd /opt/module/spark-2.1.0-bin-hadoop2.7/conf</span><br><span class="line"></span><br><span class="line">cp spark-env.sh.template spark-env.sh</span><br></pre></td></tr></table></figure>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LWZlOGE4NzNjMDNjMDc1YzEucG5n?x-oss-process=image/format,png"></p>
<p>修改：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi spark-env.sh</span><br></pre></td></tr></table></figure>
<p>修改内容：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">export JAVA_HOME=/opt/module/jdk1.8.0_144 </span><br><span class="line">export SPARK_MASTER_HOST=hadoop1</span><br><span class="line">export SPARK_MASTER_PORT=7077</span><br><span class="line"></span><br><span class="line">//下面的可以不写，默认</span><br><span class="line">export SPARK_WORKER_CORES=1</span><br><span class="line">export SPARK_WORKER_MEMORY=1024m</span><br></pre></td></tr></table></figure>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LWJmM2JjMzE2ZDQxYzJlZGEucG5n?x-oss-process=image/format,png"></p>
<h5 id="2-修改slaves"><a href="#2-修改slaves" class="headerlink" title="(2)修改slaves"></a>(2)修改slaves</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp slaves.template slaves </span><br></pre></td></tr></table></figure>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LTk2ZjdhMTgyMTJjN2ZhZTgucG5n?x-oss-process=image/format,png"></p>
<p>修改：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cd /opt/module/spark-2.1.0-bin-hadoop2.7/conf</span><br><span class="line"></span><br><span class="line">vi slaves</span><br></pre></td></tr></table></figure>
<p>修改内容：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hadoop1</span><br></pre></td></tr></table></figure>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LWRhOWExYjAxNWVlMjA0YjEucG5n?x-oss-process=image/format,png"></p>
<h3 id="二-全分布模式安装："><a href="#二-全分布模式安装：" class="headerlink" title="二.全分布模式安装："></a>二.全分布模式安装：</h3><h4 id="1-解压-1"><a href="#1-解压-1" class="headerlink" title="1.解压"></a>1.解压</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar -zxvf spark-2.1.0-bin-hadoop2.7.tgz -C /opt/module</span><br></pre></td></tr></table></figure>
<h4 id="2-修改配置文件：-1"><a href="#2-修改配置文件：-1" class="headerlink" title="2.修改配置文件："></a>2.修改配置文件：</h4><h5 id="1-修改spark-env-sh-1"><a href="#1-修改spark-env-sh-1" class="headerlink" title="(1)修改spark-env.sh"></a>(1)修改spark-env.sh</h5><p>重命名(拷贝)：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cd /opt/module/spark-2.1.0-bin-hadoop2.7/conf</span><br><span class="line"></span><br><span class="line">cp spark-env.sh.template spark-env.sh</span><br></pre></td></tr></table></figure>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LWZlOGE4NzNjMDNjMDc1YzEucG5n?x-oss-process=image/format,png"></p>
<p>修改：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi spark-env.sh</span><br></pre></td></tr></table></figure>
<p>修改内容：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">export JAVA_HOME=/opt/module/jdk1.8.0_144 </span><br><span class="line">export SPARK_MASTER_HOST=hadoop1</span><br><span class="line">export SPARK_MASTER_PORT=7077</span><br><span class="line"></span><br><span class="line">//下面的可以不写，默认</span><br><span class="line">export SPARK_WORKER_CORES=1</span><br><span class="line">export SPARK_WORKER_MEMORY=1024m</span><br></pre></td></tr></table></figure>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LWJmM2JjMzE2ZDQxYzJlZGEucG5n?x-oss-process=image/format,png"></p>
<h5 id="2-修改slaves-1"><a href="#2-修改slaves-1" class="headerlink" title="(2)修改slaves"></a>(2)修改slaves</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp slaves.template slaves </span><br></pre></td></tr></table></figure>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LTk2ZjdhMTgyMTJjN2ZhZTgucG5n?x-oss-process=image/format,png"></p>
<p>修改：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi slaves</span><br></pre></td></tr></table></figure>
<p>修改内容：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hadoop2</span><br><span class="line">hadoop3</span><br></pre></td></tr></table></figure>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LWEwYmM5NzYwODM3YWEyNDEucG5n?x-oss-process=image/format,png"></p>
<h4 id="3-发送到另外两台服务器："><a href="#3-发送到另外两台服务器：" class="headerlink" title="3.发送到另外两台服务器："></a>3.发送到另外两台服务器：</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">scp -r spark-2.1.0-bin-hadoop2.7/ root@hadoop2:/opt/module/</span><br><span class="line"></span><br><span class="line">scp -r spark-2.1.0-bin-hadoop2.7/ root@hadoop3:/opt/module/</span><br></pre></td></tr></table></figure>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LTUzNzFjZTY5MTY0NDk2MzAucG5n?x-oss-process=image/format,png"></p>
<h4 id="4-启动："><a href="#4-启动：" class="headerlink" title="4.启动："></a>4.启动：</h4><p>hadoop1:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cd /opt/module/spark-2.1.0-bin-hadoop2.7</span><br><span class="line"></span><br><span class="line">sbin/start-all.sh</span><br></pre></td></tr></table></figure>

<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LWE3YzM4YWMyNmMzZjBlNjcucG5n?x-oss-process=image/format,png" alt="hadoop1"><br><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LTI3ZGU3Yjc3YjZlZWUwZWYucG5n?x-oss-process=image/format,png" alt="hadoop2"><br><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LTFlMDM0OTA1NDc5MTEzOTIucG5n?x-oss-process=image/format,png" alt="hadoop3"></p>
<h4 id="5-验证："><a href="#5-验证：" class="headerlink" title="5.验证："></a>5.验证：</h4><p>浏览器输入hadoop1IP地址：192.168.1.121:8080</p>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LTdiMjRiZGZmYTFhYzNhOTUucG5n?x-oss-process=image/format,png"></p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Spark/" rel="tag">Spark</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2/" rel="tag">安装部署</a></li></ul>

    </footer>
  </div>

    
 
    
</article>

    
    <article
  id="post-Spark是什么"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/03/10/Spark%E6%98%AF%E4%BB%80%E4%B9%88/"
    >Spark是什么</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2020/03/10/Spark%E6%98%AF%E4%BB%80%E4%B9%88/" class="article-date">
  <time datetime="2020-03-10T03:50:00.000Z" itemprop="datePublished">2020-03-10</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/Spark/">Spark</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h4 id="1-什么是Spark？"><a href="#1-什么是Spark？" class="headerlink" title="1.什么是Spark？"></a>1.什么是Spark？</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;Spark是一种快速、通用、可扩展的大数据分析引擎，2009年诞生于加州大学伯克利分校AMPLab，2010年开源，2013年6月成为Apache孵化项目，2014年2月成为Apache顶级项目。目前，Spark生态系统已经发展成为一个包含多个子项目的集合，其中包含SparkSQL、Spark Streaming、GraphX、MLlib等子项目，Spark是基于内存计算的大数据并行计算框架。Spark基于内存计算，提高了在大数据环境下数据处理的实时性，同时保证了高容错性和高可伸缩性，允许用户将Spark部署在大量廉价硬件之上，形成集群。Spark得到了众多大数据公司的支持，这些公司包括Hortonworks、IBM、Intel、Cloudera、MapR、Pivotal、百度、阿里、腾讯、京东、携程、优酷土豆。当前百度的Spark已应用于凤巢、大搜索、直达号、百度大数据等业务；阿里利用GraphX构建了大规模的图计算和图挖掘系统，实现了很多生产系统的推荐算法；腾讯Spark集群达到8000台的规模，是当前已知的世界上最大的Spark集群。</p>
<h4 id="2-为什么要使用Spark？"><a href="#2-为什么要使用Spark？" class="headerlink" title="2.为什么要使用Spark？"></a>2.为什么要使用Spark？</h4><h5 id="1-Hadoop的MapReduce计算模型存在的问题："><a href="#1-Hadoop的MapReduce计算模型存在的问题：" class="headerlink" title="(1)Hadoop的MapReduce计算模型存在的问题："></a>(1)Hadoop的MapReduce计算模型存在的问题：</h5><p>&nbsp;&nbsp;&nbsp;&nbsp;MapReduce的核心是Shuffle(洗牌)。在整个Shuffle的过程中，至少会产生6次的I/O。下图是MapReduce的Shuffle的过程。<br>&nbsp;&nbsp;&nbsp;&nbsp;<strong>中间结果输出</strong>：基于MapReduce的计算引擎通常会将中间结果输出到磁盘上，进行存储和容错。另外，当一些查询(如：Hive)翻译到MapReduce任务时，往往会产生多个Stage(阶段)，而这些串联的Stage又依赖于底层文件系统(如HDFS)来存储每一个Stage的输出结果，而I/O的效率往往较低，从而影响了MapReduce的运行速度。</p>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LTE1MDc1NWEyZTdkYjJmYWQucG5n?x-oss-process=image/format,png" alt="MapReduce的Shuffle"></p>
<h5 id="2-Spark的最大特点：基于内存"><a href="#2-Spark的最大特点：基于内存" class="headerlink" title="(2)Spark的最大特点：基于内存"></a>(2)Spark的最大特点：基于内存</h5><p>&nbsp;&nbsp;&nbsp;&nbsp;Spark是MapReduce的替代方案，而且兼容HDFS、Hive，可融入Hadoop的生态系统，以弥补MapReduce的不足。</p>
<h4 id="3-Spark的特点：快、易用、通用、兼容性"><a href="#3-Spark的特点：快、易用、通用、兼容性" class="headerlink" title="3.Spark的特点：快、易用、通用、兼容性"></a>3.Spark的特点：快、易用、通用、兼容性</h4><h5 id="1-快"><a href="#1-快" class="headerlink" title="(1)快"></a>(1)快</h5><p>&nbsp;&nbsp;&nbsp;&nbsp;与Hadoop的MapReduce相比，Spark基于内存的运算速度要快100倍以上，即使，Spark基于硬盘的运算也要快10倍。Spark实现了高效的DAG执行引擎，从而可以通过内存来高效处理数据流。</p>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LTNjMWNiNWNjMDA1ZDkzYmEucG5n?x-oss-process=image/format,png"></p>
<h5 id="2-易用"><a href="#2-易用" class="headerlink" title="(2)易用"></a>(2)易用</h5><p>&nbsp;&nbsp;&nbsp;&nbsp;Spark支持Java、Python和Scala的API，还支持超过80种高级算法，使用户可以快速构建不同的应用。而且Spark支持交互式的Python和Scala的shell，可以非常方便地在这些shell中使用Spark集群来验证解决问题的方法。</p>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LTA4OGM1ZmU1NTFjZmNlZDkucG5n?x-oss-process=image/format,png"></p>
<h5 id="3-通用"><a href="#3-通用" class="headerlink" title="(3)通用"></a>(3)通用</h5><p>&nbsp;&nbsp;&nbsp;&nbsp;Spark提供了统一的解决方案。Spark可以用于批处理、交互式查询(Spark SQL)、实时流处理(Spark Streaming)、机器学习(Spark MLlib)和图计算(GraphX)。这些不同类型的处理都可以在同一个应用中无缝使用。Spark统一的解决方案非常具有吸引力，毕竟任何公司都想用统一的平台去处理遇到的问题，减少开发和维护的人力成本和部署平台的物力成本。<br>&nbsp;&nbsp;&nbsp;&nbsp;另外Spark还可以很好的融入Hadoop的体系结构中可以直接操作HDFS，并提供Hive on Spark、Pig on Spark的框架集成Hadoop。</p>
<h5 id="4-兼容性"><a href="#4-兼容性" class="headerlink" title="(4)兼容性"></a>(4)兼容性</h5><p>&nbsp;&nbsp;&nbsp;&nbsp;Spark可以非常方便地与其他的开源产品进行融合。比如，Spark可以使用Hadoop的YARN和Apache Mesos作为它的资源管理和调度器，器，并且可以处理所有Hadoop支持的数据，包括HDFS、HBase和Cassandra等。这对于已经部署Hadoop集群的用户特别重要，因为不需要做任何数据迁移就可以使用Spark的强大处理能力。Spark也可以不依赖于第三方的资源管理和调度器，它实现了Standalone作为其内置的资源管理和调度框架，这样进一步降低了Spark的使用门槛，使得所有人都可以非常容易地部署和使用Spark。此外，Spark还提供了在EC2上部署Standalone的Spark集群的工具。</p>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LTA5NzIyZWU1YzYwY2M5ZTIucG5n?x-oss-process=image/format,png"></p>
<h4 id="4-Spark集群的体系结构"><a href="#4-Spark集群的体系结构" class="headerlink" title="4.Spark集群的体系结构"></a>4.Spark集群的体系结构</h4><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LWVmNzUyM2RiYjc3ODg5MjcucG5n?x-oss-process=image/format,png" alt="Spark集群的体系架构1"></p>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LWU4OGE2NjA0MDU4NWIwYTMucG5n?x-oss-process=image/format,png" alt="Spark集群的体系架构2"></p>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LTc3OWZkNzYwMGIzYzVlMjQucG5n?x-oss-process=image/format,png" alt="Spark集群的体系架构3"></p>
<h5 id="1-结构"><a href="#1-结构" class="headerlink" title="(1)结构"></a>(1)结构</h5><h6 id="a-Master：接收任务请求，分发任务"><a href="#a-Master：接收任务请求，分发任务" class="headerlink" title="(a)Master：接收任务请求，分发任务"></a>(a)Master：接收任务请求，分发任务</h6><h6 id="b-Worker：本节点任务调度，资源管理。默认占用该节点所有资源"><a href="#b-Worker：本节点任务调度，资源管理。默认占用该节点所有资源" class="headerlink" title="(b)Worker：本节点任务调度，资源管理。默认占用该节点所有资源"></a>(b)Worker：本节点任务调度，资源管理。默认占用该节点所有资源</h6><ul>
<li>Spark对内存没有很好管理，容易出现OOM。Spark把内存管理交给应用程序。    </li>
<li>Spark架构出现单点故障问题，通过HA解决。</li>
</ul>
<h6 id="c-Driver：客户端"><a href="#c-Driver：客户端" class="headerlink" title="(c )Driver：客户端"></a>(c )Driver：客户端</h6><h5 id="2-启动方式："><a href="#2-启动方式：" class="headerlink" title="(2)启动方式："></a>(2)启动方式：</h5><h6 id="a-Spark-submit："><a href="#a-Spark-submit：" class="headerlink" title="(a)Spark-submit："></a>(a)Spark-submit：</h6><p>&nbsp;&nbsp;&nbsp;&nbsp;用于提交Spark 任务。每个任务是一个jar。</p>
<h6 id="b-spark-shell："><a href="#b-spark-shell：" class="headerlink" title="(b)spark-shell："></a>(b)spark-shell：</h6><p>&nbsp;&nbsp;&nbsp;&nbsp;类似于 REPL</p>
<h4 id="5-Spark运行机制及原理分析"><a href="#5-Spark运行机制及原理分析" class="headerlink" title="5.Spark运行机制及原理分析"></a>5.Spark运行机制及原理分析</h4><h6 id="1-WordCount执行的流程分析"><a href="#1-WordCount执行的流程分析" class="headerlink" title="(1).WordCount执行的流程分析"></a>(1).WordCount执行的流程分析</h6><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LThlOWIyNzhjMjUyNzk5NzcucG5n?x-oss-process=image/format,png" alt="WordCount执行的流程"></p>
<h6 id="2-Spark提交任务的流程"><a href="#2-Spark提交任务的流程" class="headerlink" title="(2).Spark提交任务的流程"></a>(2).Spark提交任务的流程</h6><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LWRiODNiZDJjZjg2ZmM0OWQucG5n?x-oss-process=image/format,png" alt="Spark提交任务的流程"></p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Spark/" rel="tag">Spark</a></li></ul>

    </footer>
  </div>

    
 
    
</article>

    
    <article
  id="post-Scala高级特性"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/03/07/Scala%E9%AB%98%E7%BA%A7%E7%89%B9%E6%80%A7/"
    >Scala高级特性</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2020/03/07/Scala%E9%AB%98%E7%BA%A7%E7%89%B9%E6%80%A7/" class="article-date">
  <time datetime="2020-03-07T03:50:00.000Z" itemprop="datePublished">2020-03-07</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/Scala/">Scala</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h3 id="一-范型"><a href="#一-范型" class="headerlink" title="一.范型"></a>一.范型</h3><h4 id="1-什么是泛型类"><a href="#1-什么是泛型类" class="headerlink" title="1.什么是泛型类"></a>1.什么是泛型类</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;和Java或者C++一样，类和特质可以带类型参数。在Scala中，使用方括号来定义类型参数<br><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LTRhNTBlYzNkYmIyYjY0YmEucG5n?x-oss-process=image/format,png"></p>
<p>测试程序：</p>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LTRkZTliNDNlY2MzODhkYzQucG5n?x-oss-process=image/format,png"></p>
<h4 id="2-什么是泛型函数"><a href="#2-什么是泛型函数" class="headerlink" title="2.什么是泛型函数"></a>2.什么是泛型函数</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;函数和方法也可以带类型参数。和泛型类一样，我们需要把类型参数放在方法名之后。</p>
<p><strong>注意：这里的ClassTag是必须的，表示运行时的一些信息，比如类型</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> scala.reflect.<span class="function">ClassTag</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">def <span class="title">mkIntArray</span><span class="params">(elems:Int*)</span> </span>= Array[Int](elems:_*)</span><br><span class="line"></span><br><span class="line">mkIntArray(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">100</span>)</span><br><span class="line"></span><br><span class="line"><span class="function">def <span class="title">mkStringArray</span><span class="params">(elems:String*)</span> </span>= Array[String](elems:_*)</span><br><span class="line"></span><br><span class="line">mkStringArray(<span class="string">&quot;Mike&quot;</span>,<span class="string">&quot;Tom&quot;</span>,<span class="string">&quot;Mary&quot;</span>)</span><br><span class="line"></span><br><span class="line">def mkArray[T:ClassTag](elems:T*) = Array[T](elems:_*)</span><br><span class="line"></span><br><span class="line">mkArray(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">8</span>)</span><br><span class="line"></span><br><span class="line">mkArray(<span class="string">&quot;Tom&quot;</span>,<span class="string">&quot;Marry&quot;</span>)</span><br></pre></td></tr></table></figure>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LWI1ZGFmOWJlYWYzMjg5NWYucG5n?x-oss-process=image/format,png"></p>
<h4 id="3-上界和下界：Upper-Bounds-与-Lower-Bounds"><a href="#3-上界和下界：Upper-Bounds-与-Lower-Bounds" class="headerlink" title="3.上界和下界：Upper Bounds 与 Lower Bounds"></a>3.上界和下界：Upper Bounds 与 Lower Bounds</h4><h5 id="1-作用：规定泛型的取值范围："><a href="#1-作用：规定泛型的取值范围：" class="headerlink" title="(1)作用：规定泛型的取值范围："></a>(1)作用：规定泛型的取值范围：</h5><p><strong>举例：定义一个范型:T</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">类的继承关系   A----&gt;B-----&gt;C-----&gt;D  箭头指向子类</span><br><span class="line">可以规定T的取值范围    D  &lt;:  T   &lt;:  B</span><br><span class="line">T 的取值范围只能是 B C D</span><br><span class="line">				</span><br><span class="line">&lt;:  就是上下界表示方法</span><br></pre></td></tr></table></figure>

<h5 id="2-定义："><a href="#2-定义：" class="headerlink" title="(2)定义："></a>(2)定义：</h5><ul>
<li><p>上界：s &lt;: T ,规定了S的类型必须是T的子类或本身</p>
</li>
<li><p>下界：u &gt;: T ,规定了U的类型必须是T的父类或本身</p>
</li>
</ul>
<h5 id="3-一个简单的例子："><a href="#3-一个简单的例子：" class="headerlink" title="(3)一个简单的例子："></a>(3)一个简单的例子：</h5><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LWE1MTYzM2UxZTNjN2Y5MWUucG5n?x-oss-process=image/format,png"></p>
<h5 id="4-一个复杂一点的例子（上界）："><a href="#4-一个复杂一点的例子（上界）：" class="headerlink" title="(4)一个复杂一点的例子（上界）："></a>(4)一个复杂一点的例子（上界）：</h5><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LTEwNTAzNDUzYTY4YTdlNzYucG5n?x-oss-process=image/format,png"></p>
<h5 id="5-再来看一个例子："><a href="#5-再来看一个例子：" class="headerlink" title="(5)再来看一个例子："></a>(5)再来看一个例子：</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">def addTwoString[T&lt;:String](x:T,y:T) = x + <span class="string">&quot; **** &quot;</span> + <span class="function">y</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="title">addTwoString</span><span class="params">(<span class="string">&quot;Hello&quot;</span>,<span class="string">&quot;123&quot;</span>)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="title">addTwoString</span><span class="params">(<span class="number">1</span>,<span class="number">2</span>)</span></span></span><br></pre></td></tr></table></figure>

<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LTRkZjUzY2MyZDUwODBhYjkucG5n?x-oss-process=image/format,png"></p>
<p>报错原因：Int不是String类型。</p>
<p>解决：1和2转换成字符串再调用</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">addTwoString(<span class="number">1.</span>toString,<span class="number">2.</span>toString)</span><br></pre></td></tr></table></figure>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LTY0YmMyNWFjMTJiNWJmMTUucG5n?x-oss-process=image/format,png"></p>
<p>另外：可以使用 视图界定 来解决这个问题。</p>
<h4 id="4-视图界定-View-bounds"><a href="#4-视图界定-View-bounds" class="headerlink" title="4.视图界定(View bounds)"></a>4.视图界定(View bounds)</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;它比 &lt;: 适用的范围更广，除了所有的子类型，还允许隐式转换过去的类型。用 &lt;% 表示。<strong>尽量使用视图界定，来取代泛型的上界，因为适用的范围更加广泛</strong></p>
<p><strong>示例</strong>：</p>
<h5 id="1-上面写过的一个列子。这里由于T的上界是String，当我们传递100和200的时候，就会出现类型不匹配。"><a href="#1-上面写过的一个列子。这里由于T的上界是String，当我们传递100和200的时候，就会出现类型不匹配。" class="headerlink" title="(1)上面写过的一个列子。这里由于T的上界是String，当我们传递100和200的时候，就会出现类型不匹配。"></a>(1)上面写过的一个列子。这里由于T的上界是String，当我们传递100和200的时候，就会出现类型不匹配。</h5><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LTVjMWY2ZjkxYmM4YTA3MTkucG5n?x-oss-process=image/format,png"></p>
<h5 id="2-但是100和200是可以转成字符串的，所以我们可以使用视图界定让addTwoString方法接收更广泛的数据类型，即：字符串及其子类、可以转换成字符串的类型。"><a href="#2-但是100和200是可以转成字符串的，所以我们可以使用视图界定让addTwoString方法接收更广泛的数据类型，即：字符串及其子类、可以转换成字符串的类型。" class="headerlink" title="(2)但是100和200是可以转成字符串的，所以我们可以使用视图界定让addTwoString方法接收更广泛的数据类型，即：字符串及其子类、可以转换成字符串的类型。"></a>(2)但是100和200是可以转成字符串的，所以我们可以使用视图界定让addTwoString方法接收更广泛的数据类型，<strong>即：字符串及其子类、可以转换成字符串的类型。</strong></h5><p>注意：使用的是 &lt;%<br><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LTVhYmEyM2VhM2YyYTQ4YmUucG5n?x-oss-process=image/format,png"></p>
<h5 id="3-但实际运行的时候，会出现错误："><a href="#3-但实际运行的时候，会出现错误：" class="headerlink" title="(3)但实际运行的时候，会出现错误："></a>(3)但实际运行的时候，会出现错误：</h5><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LTg5MGQyZDEyNTY0YWIyZGEucG5n?x-oss-process=image/format,png"></p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;这是因为：Scala并没有定义如何将Int转换成String的规则，所以要使用视图界定，我们就必须创建转换的规则。</p>
<h5 id="4-创建转换规则"><a href="#4-创建转换规则" class="headerlink" title="(4)创建转换规则"></a>(4)创建转换规则</h5><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LTRlYzhmZGFiOTBlN2MyM2EucG5n?x-oss-process=image/format,png"></p>
<h5 id="5-运行成功"><a href="#5-运行成功" class="headerlink" title="(5)运行成功"></a>(5)运行成功</h5><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LTE3NWNiNzMyZTRhYmFkN2IucG5n?x-oss-process=image/format,png"></p>
<h4 id="5-协变和逆变"><a href="#5-协变和逆变" class="headerlink" title="5.协变和逆变"></a>5.协变和逆变</h4><h5 id="1-协变："><a href="#1-协变：" class="headerlink" title="(1)协变："></a>(1)协变：</h5><p>&nbsp;&nbsp;&nbsp;&nbsp;Scala的类或特征的范型定义中，如果在类型参数前面加入+符号，就可以使类或特征变为协变了。</p>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LTM3MWFiNzhlNmQzYTg2N2EucG5n?x-oss-process=image/format,png"></p>
<h5 id="2-逆变："><a href="#2-逆变：" class="headerlink" title="(2)逆变："></a>(2)逆变：</h5><p>&nbsp;&nbsp;&nbsp;&nbsp;在类或特征的定义中，在类型参数之前加上一个-符号，就可定义逆变范型类和特征了。</p>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LWFkMTQ1Y2EzNjg2ZGY2YjYucG5n?x-oss-process=image/format,png"></p>
<p><strong>总结一下：</strong><br>Scala的协变：泛型变量的值可以是<strong>本身类型</strong>或者其<strong>子类</strong>的类型</p>
<p>Scala的逆变：泛型变量的值可以是<strong>本身类型</strong>或者其<strong>父类</strong>的类型</p>
<h3 id="二-隐式转换"><a href="#二-隐式转换" class="headerlink" title="二.隐式转换"></a>二.隐式转换</h3><h4 id="1-隐式转换函数"><a href="#1-隐式转换函数" class="headerlink" title="1.隐式转换函数"></a>1.隐式转换函数</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;所谓隐式转换函数指的是以<strong>implicit</strong>关键字申明的带有<strong>单个参数</strong>的函数。</p>
<h5 id="1-前面讲视图界定时候的一个例子："><a href="#1-前面讲视图界定时候的一个例子：" class="headerlink" title="(1)前面讲视图界定时候的一个例子："></a>(1)前面讲视图界定时候的一个例子：</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">implicit def <span class="title">int2String</span><span class="params">(n:Int)</span>:String </span>= &#123;n.toString&#125;</span><br></pre></td></tr></table></figure>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LTkyNTY5YTQ3N2NhZTgyYzUucG5n?x-oss-process=image/format,png"></p>
<h5 id="2-再举一个例子：把Fruit对象转换成了Monkey对象"><a href="#2-再举一个例子：把Fruit对象转换成了Monkey对象" class="headerlink" title="(2)再举一个例子：把Fruit对象转换成了Monkey对象"></a>(2)再举一个例子：把Fruit对象转换成了Monkey对象</h5><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LTk0MDhhZDNiYTEyZjU2OGIucG5n?x-oss-process=image/format,png"></p>
<h4 id="2-隐式参数"><a href="#2-隐式参数" class="headerlink" title="2.隐式参数"></a>2.隐式参数</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;使用implicit申明的函数参数叫做隐式参数。我们也可以使用隐式参数实现隐式的转换</p>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LTViZjc5N2M1OTdiN2M1MjcucG5n?x-oss-process=image/format,png"></p>
<h5 id="1-区别："><a href="#1-区别：" class="headerlink" title="(1)区别："></a>(1)区别：</h5><ul>
<li>参数：定义函数的时候，会接收参数</li>
<li>隐式参数：使用implicit修饰的函数参数</li>
</ul>
<h5 id="2-作用：当你去调用函数的时候，如果没有给函数传递参数值，就会使用隐式参数"><a href="#2-作用：当你去调用函数的时候，如果没有给函数传递参数值，就会使用隐式参数" class="headerlink" title="(2)作用：当你去调用函数的时候，如果没有给函数传递参数值，就会使用隐式参数"></a>(2)作用：当你去调用函数的时候，如果没有给函数传递参数值，就会使用隐式参数</h5><h5 id="3-举例：定义一个带有隐式参数的函数"><a href="#3-举例：定义一个带有隐式参数的函数" class="headerlink" title="(3)举例：定义一个带有隐式参数的函数"></a>(3)举例：定义一个带有隐式参数的函数</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">def <span class="title">testParam</span><span class="params">(name:String)</span> </span>= println(<span class="string">&quot;The value is &quot;</span> + name)</span><br><span class="line"></span><br><span class="line"><span class="function">def <span class="title">testParam</span><span class="params">(implicit name:String)</span> </span>= println(<span class="string">&quot;The value is &quot;</span> + name)</span><br><span class="line"></span><br><span class="line">implicit val name:String = <span class="string">&quot;AAAAAA&quot;</span></span><br><span class="line"></span><br><span class="line">testParam(<span class="string">&quot;dfsfdsdf&quot;</span>)</span><br><span class="line"></span><br><span class="line">testParam</span><br></pre></td></tr></table></figure>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LWYyMGIyMTFiZTM4YjQ2ZjUucG5n?x-oss-process=image/format,png"></p>
<h4 id="3-隐式类"><a href="#3-隐式类" class="headerlink" title="3.隐式类"></a>3.隐式类</h4><p>所谓隐式类： 就是对类增加implicit 限定的类，其作用主要是<strong>对类的功能加强</strong></p>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LWI2ZDFlYWQxZjE4NTc5ZDgucG5n?x-oss-process=image/format,png"></p>
<h3 id="三-Actor并发模型"><a href="#三-Actor并发模型" class="headerlink" title="三.Actor并发模型"></a>三.Actor并发模型</h3><h4 id="1-Java并发与Scala并发区别："><a href="#1-Java并发与Scala并发区别：" class="headerlink" title="1.Java并发与Scala并发区别："></a>1.Java并发与Scala并发区别：</h4><h5 id="1-Java中的并发编程是基于-共享数据-和-加锁-的一种机制。synchronized关键字，锁共享数据"><a href="#1-Java中的并发编程是基于-共享数据-和-加锁-的一种机制。synchronized关键字，锁共享数据" class="headerlink" title="(1)Java中的并发编程是基于 共享数据 和 加锁 的一种机制。synchronized关键字，锁共享数据"></a>(1)Java中的并发编程是基于 共享数据 和 加锁 的一种机制。synchronized关键字，锁共享数据</h5><h5 id="2-Scala中的并发：Scala中的Actor是一种-不共享数据-，依赖于-消息传递-的一种并发编程模式。"><a href="#2-Scala中的并发：Scala中的Actor是一种-不共享数据-，依赖于-消息传递-的一种并发编程模式。" class="headerlink" title="(2)Scala中的并发：Scala中的Actor是一种 不共享数据 ，依赖于 消息传递 的一种并发编程模式。"></a>(2)Scala中的并发：Scala中的Actor是一种 不共享数据 ，依赖于 消息传递 的一种并发编程模式。</h5><p>&nbsp;&nbsp;&nbsp;&nbsp;避免了死锁、资源争夺等情况。</p>
<h4 id="2-如果-Actor-A-和-Actor-B-要相互沟通，步骤如下："><a href="#2-如果-Actor-A-和-Actor-B-要相互沟通，步骤如下：" class="headerlink" title="2.如果 Actor A 和 Actor B 要相互沟通，步骤如下："></a>2.如果 Actor A 和 Actor B 要相互沟通，步骤如下：</h4><h5 id="1-A是要给B传递一个信息，B会有一个收件箱，然后B会不断地循环查询自己的收件箱。"><a href="#1-A是要给B传递一个信息，B会有一个收件箱，然后B会不断地循环查询自己的收件箱。" class="headerlink" title="(1)A是要给B传递一个信息，B会有一个收件箱，然后B会不断地循环查询自己的收件箱。"></a>(1)A是要给B传递一个信息，B会有一个收件箱，然后B会不断地循环查询自己的收件箱。</h5><h5 id="2-若B看见A发来的消息，B就会解析A的消息，并执行。"><a href="#2-若B看见A发来的消息，B就会解析A的消息，并执行。" class="headerlink" title="(2)若B看见A发来的消息，B就会解析A的消息，并执行。"></a>(2)若B看见A发来的消息，B就会解析A的消息，并执行。</h5><p>&nbsp;&nbsp;&nbsp;&nbsp;使用 case class 来区分 消息类型</p>
<h5 id="3-处理完之后，有可能将处理的结果发送给A。"><a href="#3-处理完之后，有可能将处理的结果发送给A。" class="headerlink" title="(3)处理完之后，有可能将处理的结果发送给A。"></a>(3)处理完之后，有可能将处理的结果发送给A。</h5><p>&nbsp;&nbsp;&nbsp;&nbsp;在学习Actor时，一定要区分，发消息 与回复消息。这两个在代码中实现是不同的。</p>
<p>AKKA 负责来回传递消息</p>
<h4 id="3-示例代码："><a href="#3-示例代码：" class="headerlink" title="3.示例代码："></a>3.示例代码：</h4><p>添加配置：<br>pom.xml</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">actor.version</span>&gt;</span>2.5.4<span class="tag">&lt;/<span class="name">actor.version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.typesafe.akka<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>akka-actor_2.11<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;actor.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.typesafe.akka<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>akka-remote_2.11<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;actor.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.typesafe.akka<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>akka-http_2.11<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>10.0.9<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.typesafe.akka<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>akka-protobuf_2.11<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;actor.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h5 id="1-示例1"><a href="#1-示例1" class="headerlink" title="(1)示例1:"></a>(1)示例1:</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Test01</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> akka.actor.&#123;Actor, ActorSystem, Props&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">HelloActor</span> <span class="keyword">extends</span> <span class="title">Actor</span></span>&#123;</span><br><span class="line">  def receive = &#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 使用 case 来处理不同类型的信息</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">case</span> <span class="string">&quot;Hello&quot;</span> =&gt; println(<span class="string">&quot;你好！&quot;</span>)</span><br><span class="line">    <span class="keyword">case</span> _ =&gt; println(<span class="string">&quot;你是？&quot;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">object DemoActor &#123;</span><br><span class="line"></span><br><span class="line">  <span class="function">def <span class="title">main</span><span class="params">(args: Array[String])</span>: Unit </span>= &#123;</span><br><span class="line">    <span class="comment">//新建一个ActorSystem</span></span><br><span class="line">    val system = ActorSystem(<span class="string">&quot;HelloSystem&quot;</span>)</span><br><span class="line"></span><br><span class="line">    val helloActor = system.actorOf(Props( <span class="keyword">new</span> HelloActor),name=<span class="string">&quot;helloactor&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//给 helloactor 发送消息</span></span><br><span class="line"></span><br><span class="line">    helloActor ! <span class="string">&quot;Hello123123123&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LTY0MTQ1Y2Y3MGE5MGNkYWMucG5n?x-oss-process=image/format,png" alt="结果"></p>
<h5 id="2-示例2"><a href="#2-示例2" class="headerlink" title="(2)示例2:"></a>(2)示例2:</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> akka.actor._</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  * 两个Actor 相互发消息</span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  * Ping   Pong</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"><span class="comment">//定义消息类型</span></span><br><span class="line"><span class="function"><span class="keyword">case</span> object PongMessage</span></span><br><span class="line"><span class="function"><span class="keyword">case</span> object PingMessage</span></span><br><span class="line"><span class="function"><span class="keyword">case</span> object StopMessage</span></span><br><span class="line"><span class="function"><span class="keyword">case</span> object StartMessage</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">class <span class="title">Pong</span><span class="params">(ping:ActorRef)</span> extends Actor</span>&#123;</span><br><span class="line">  <span class="keyword">var</span> count = <span class="number">0</span></span><br><span class="line">  def incrementAndPrint &#123; count += <span class="number">1</span>; println(<span class="string">&quot;count + 1 and pong&quot;</span>)&#125;</span><br><span class="line">  def receive = &#123;</span><br><span class="line">  <span class="keyword">case</span> PingMessage =&gt;</span><br><span class="line">    <span class="keyword">if</span> (count &gt; <span class="number">9</span>)&#123;</span><br><span class="line">      sender ! <span class="function">StopMessage</span></span><br><span class="line"><span class="function">      <span class="title">println</span><span class="params">(<span class="string">&quot;count &gt; 9&quot;</span>)</span></span></span><br><span class="line"><span class="function">      context.<span class="title">stop</span><span class="params">(self)</span></span></span><br><span class="line"><span class="function">    &#125; <span class="keyword">else</span> </span>&#123;</span><br><span class="line">      println(<span class="string">&quot;Receive PingMessage&quot;</span>)</span><br><span class="line">      incrementAndPrint</span><br><span class="line">      sender ! PongMessage</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">case</span> StartMessage =&gt;</span><br><span class="line">    println(<span class="string">&quot;Receive StartMessage&quot;</span>)</span><br><span class="line">      <span class="comment">//发送一个消息</span></span><br><span class="line">      ping ! PongMessage</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Ping</span> <span class="keyword">extends</span> <span class="title">Actor</span></span>&#123;</span><br><span class="line">  def receive = &#123;</span><br><span class="line">    <span class="keyword">case</span> PongMessage =&gt;</span><br><span class="line">      println(<span class="string">&quot;Receive PongMessage&quot;</span>)</span><br><span class="line">      <span class="comment">//回复一个消息</span></span><br><span class="line">      sender ! PingMessage</span><br><span class="line">    <span class="keyword">case</span> StopMessage =&gt;</span><br><span class="line">      println(<span class="string">&quot;Stop Message&quot;</span>)</span><br><span class="line">      context.stop(self)</span><br><span class="line">      <span class="comment">//context.system.finalize()</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">object Demo2 &#123;</span><br><span class="line">  <span class="function">def <span class="title">main</span><span class="params">(args: Array[String])</span>: Unit </span>= &#123;</span><br><span class="line">    <span class="comment">//pong ! StartMessage</span></span><br><span class="line">    val system = ActorSystem(<span class="string">&quot;PingPongSystem&quot;</span>)</span><br><span class="line">    val ping = system.actorOf(Props[Ping],name=<span class="string">&quot;ping&quot;</span>)</span><br><span class="line">    val pong = system.actorOf(Props(<span class="keyword">new</span> Pong(ping)),name=<span class="string">&quot;pong&quot;</span>)</span><br><span class="line">    pong ! StartMessage</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LWU3ZGIwY2Q5NWNlYzljOWIucG5n?x-oss-process=image/format,png" alt="结果"></p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Scala/" rel="tag">Scala</a></li></ul>

    </footer>
  </div>

    
 
    
</article>

    
    <article
  id="post-Scala集合"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/03/06/Scala%E9%9B%86%E5%90%88/"
    >Scala集合</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2020/03/06/Scala%E9%9B%86%E5%90%88/" class="article-date">
  <time datetime="2020-03-06T03:50:00.000Z" itemprop="datePublished">2020-03-06</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/Scala/">Scala</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h4 id="1-可变集合和不可变集合"><a href="#1-可变集合和不可变集合" class="headerlink" title="1.可变集合和不可变集合"></a>1.可变集合和不可变集合</h4><h5 id="1-可变集合"><a href="#1-可变集合" class="headerlink" title="(1)可变集合:"></a>(1)可变集合:</h5><h5 id="2-不可变集合："><a href="#2-不可变集合：" class="headerlink" title="(2)不可变集合："></a>(2)不可变集合：</h5><ul>
<li>集合从不改变，因此可以安全地共享其引用。</li>
<li>甚至是在一个多线程的应用程序当中也没问题。</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//不可变的集合</span></span><br><span class="line">val math = scala.collection.immutable.Map(<span class="string">&quot;Alice&quot;</span>-&gt;<span class="number">80</span>,<span class="string">&quot;Bob&quot;</span>-&gt;<span class="number">90</span>,<span class="string">&quot;Mary&quot;</span>-&gt;<span class="number">85</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//可变的集合</span></span><br><span class="line">val english = scala.collection.mutable.Map(<span class="string">&quot;Alice&quot;</span>-&gt;<span class="number">80</span>,<span class="string">&quot;Bob&quot;</span>-&gt;<span class="number">90</span>,<span class="string">&quot;Mary&quot;</span>-&gt;<span class="number">85</span>)</span><br><span class="line">val chinese = scala.collection.mutable.Map(<span class="string">&quot;Alice&quot;</span>-&gt;<span class="number">80</span>,<span class="string">&quot;Bob&quot;</span>-&gt;<span class="number">90</span>,<span class="string">&quot;Mary&quot;</span>-&gt;<span class="number">85</span>)</span><br></pre></td></tr></table></figure>

<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LTI5NGZiMmViYTFhMTZjMzkucG5n?x-oss-process=image/format,png"></p>
<h5 id="3-集合的操作："><a href="#3-集合的操作：" class="headerlink" title="(3)集合的操作："></a>(3)集合的操作：</h5><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LTFjMjE3Nzk2YjI3NzE2YTMucG5n?x-oss-process=image/format,png"><br><strong>a.获取集合中的值</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">chinese.get(<span class="string">&quot;Bob&quot;</span>)</span><br><span class="line"></span><br><span class="line">chinese.get(<span class="string">&quot;Tomdfsdfd&quot;</span>)</span><br><span class="line"></span><br><span class="line">chinese(<span class="string">&quot;Bob&quot;</span>)</span><br><span class="line"></span><br><span class="line">chinese.getOrElse(<span class="string">&quot;Tomsdlkfjlskdjfls&quot;</span>,-<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">chinese(<span class="string">&quot;Tomdfsdfd&quot;</span>)</span><br></pre></td></tr></table></figure>

<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LTQ0ODdlMzdlNjhkNmZjOTIucG5n?x-oss-process=image/format,png" alt="获取集合中的值"></p>
<p><strong>b.更新集合中的值</strong>：注意：必须是一个可变集合</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">chinese</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="title">chinese</span><span class="params">(<span class="string">&quot;Bob&quot;</span>)</span></span>=<span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="function">chinese</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">math</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="title">math</span><span class="params">(<span class="string">&quot;Bob&quot;</span>)</span></span>=<span class="number">0</span></span><br></pre></td></tr></table></figure>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LWRkZGE0NmM1NGI2ZTQwMzAucG5n?x-oss-process=image/format,png" alt="更新集合元素"></p>
<p><strong>c.添加新元素</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chinese += <span class="string">&quot;Tom&quot;</span>-&gt;<span class="number">85</span></span><br></pre></td></tr></table></figure>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LWQyYWE5NGZiN2FiMGNjNmUucG5n?x-oss-process=image/format,png" alt="添加新元素"><br><strong>d.移除元素</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chinese -= &quot;Bob&quot;</span><br></pre></td></tr></table></figure>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LTFiY2IwMTlmODgyOTlkNjYucG5n?x-oss-process=image/format,png" alt="移除元素"></p>
<h4 id="2-列表"><a href="#2-列表" class="headerlink" title="2.列表"></a>2.列表</h4><h5 id="1-不可变列表-List"><a href="#1-不可变列表-List" class="headerlink" title="(1)不可变列表(List)"></a>(1)不可变列表(List)</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//不可变列表：List</span></span><br><span class="line"><span class="comment">//字符串列表</span></span><br><span class="line">val namelist = List(<span class="string">&quot;Bob&quot;</span>,<span class="string">&quot;Mary&quot;</span>,<span class="string">&quot;Mike&quot;</span>)</span><br><span class="line"><span class="comment">//整数列表</span></span><br><span class="line">val intList = List(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>)</span><br><span class="line"><span class="comment">//空列表</span></span><br><span class="line">val nullList:List[Nothing] = List()</span><br><span class="line"><span class="comment">//二维列表</span></span><br><span class="line">val dim:List[List[Int]] = List(List(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>),List(<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>))</span><br></pre></td></tr></table></figure>

<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LTNlZTJlNTdjOTlmZjM2MjIucG5n?x-oss-process=image/format,png" alt="不可变列表"></p>
<p><strong>不可变列表的相关操作</strong>：<br>a.<em>head</em>：列表中的第一个元素</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//输出列表中的值：head,tail,isEmpty</span></span><br><span class="line">println(<span class="string">&quot;第一个人的名字：&quot;</span>+namelist.head)</span><br></pre></td></tr></table></figure>
<p>b.<em>tail</em>:不是返回最后一个元素，而是返回除去第一个元素后，剩下的元素列表</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">println(namelist.tail)</span><br></pre></td></tr></table></figure>
<p>c.<em>isEmpty</em>:判断列表是否为空</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">println(<span class="string">&quot;列表是否为空：&quot;</span>+namelist.isEmpty)</span><br></pre></td></tr></table></figure>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LTQzNWYwZTliMjQwZjVhOGUucG5n?x-oss-process=image/format,png" alt="不可变列表的相关操作"></p>
<h5 id="2-可变列表-LinkedList-：scala-collection-mutable-LinkedList"><a href="#2-可变列表-LinkedList-：scala-collection-mutable-LinkedList" class="headerlink" title="(2)可变列表(LinkedList)：scala.collection.mutable.LinkedList"></a>(2)可变列表(LinkedList)：scala.collection.mutable.LinkedList</h5><p>LinkedList和不可变列表List类似，只不过我们可以修改列表中的值</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//可变列表：</span></span><br><span class="line">val myList = scala.collection.mutable.LinkedList(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>)</span><br><span class="line"><span class="comment">//操作：将上面可变列表中的每个值乘以2</span></span><br><span class="line"><span class="comment">//列名 elem</span></span><br><span class="line"><span class="comment">//定义一个指针指向列表的开始</span></span><br><span class="line"><span class="keyword">var</span> cur = myList</span><br><span class="line"></span><br><span class="line"><span class="comment">//Nil:代表Scala中的null</span></span><br><span class="line"><span class="keyword">while</span>(cur != Nil)&#123;</span><br><span class="line">  cur.elem = cur.elem*<span class="number">2</span></span><br><span class="line">  <span class="comment">//将指针指向下一个元素</span></span><br><span class="line">  cur = cur.next</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//查看结果</span></span><br><span class="line">println(myList)</span><br></pre></td></tr></table></figure>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LTg3ZTNkZTQwZDFkODBmM2IucG5n?x-oss-process=image/format,png"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">myList</span><br><span class="line"></span><br><span class="line">myList.map(_*<span class="number">2</span>)</span><br></pre></td></tr></table></figure>

<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LTAzZTllNTA1MzhjYjczNzYucG5n?x-oss-process=image/format,png"><br>移除元素</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">myList.drop(<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">myList.dropWhile(_%<span class="number">2</span>!=<span class="number">0</span>)</span><br></pre></td></tr></table></figure>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LTQ0NTcwOGFlMjVmMTYwNWMucG5n?x-oss-process=image/format,png"></p>
<p>dropWhile   去除当前数组中，符合条件的元素，碰到第一个不满足条件的元素，就结束。</p>
<h4 id="3-序列"><a href="#3-序列" class="headerlink" title="3.序列"></a>3.序列</h4><p>常用的序列有：Vector和Range</p>
<h5 id="1-Vector是ArrayBuffer的不可变版本，是一个带下标的序列"><a href="#1-Vector是ArrayBuffer的不可变版本，是一个带下标的序列" class="headerlink" title="(1)Vector是ArrayBuffer的不可变版本，是一个带下标的序列"></a>(1)Vector是ArrayBuffer的不可变版本，是一个带下标的序列</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Vector:为了提高list列表随机存取的效率而引入的新的集合类型</span></span><br><span class="line"><span class="comment">//支持快速的查找和更新</span></span><br><span class="line">val v= Vector(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//返回的是第一个满足条件的元素</span></span><br><span class="line">v.find(_&gt;<span class="number">3</span>)</span><br><span class="line">v.updated(<span class="number">2</span>,<span class="number">1000</span>)</span><br></pre></td></tr></table></figure>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LTVkNWI2Y2IyNmJhZGUxZjIucG5n?x-oss-process=image/format,png" alt="Vector"></p>
<h5 id="2-Range表示一个整数序列"><a href="#2-Range表示一个整数序列" class="headerlink" title="(2)Range表示一个整数序列"></a>(2)Range表示一个整数序列</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Range：有序的通过空格分割的Int序列</span></span><br><span class="line"><span class="comment">//以下几个例子Range是一样</span></span><br><span class="line"></span><br><span class="line">Range(<span class="number">0</span>,<span class="number">5</span>)</span><br><span class="line">println(<span class="string">&quot;第一种写法：&quot;</span>+Range(<span class="number">0</span>,<span class="number">5</span>))</span><br><span class="line">println(<span class="string">&quot;第二种写法：&quot;</span>+(<span class="number">0</span> until <span class="number">5</span>))</span><br><span class="line">println(<span class="string">&quot;第三种写法：&quot;</span>+(<span class="number">0</span> to <span class="number">4</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment">//两个range可以相加</span></span><br><span class="line">(<span class="string">&#x27;0&#x27;</span> to <span class="string">&#x27;9&#x27;</span>)++(<span class="string">&#x27;A&#x27;</span> to <span class="string">&#x27;Z&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//可以将Range转换为List</span></span><br><span class="line"><span class="number">1</span> to <span class="number">5</span> toList</span><br></pre></td></tr></table></figure>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LTAwOTQwOTgxZjMzZGM5OTAucG5n?x-oss-process=image/format,png" alt="Range"></p>
<h4 id="4-集-Set-和集的操作"><a href="#4-集-Set-和集的操作" class="headerlink" title="4. 集(Set)和集的操作"></a>4. 集(Set)和集的操作</h4><ul>
<li>集Set是不重复元素的集合</li>
<li>和列表不同，集并不保留元素插入的顺序。默认是HashSet</li>
</ul>
<h5 id="1-示例1：创建集"><a href="#1-示例1：创建集" class="headerlink" title="(1)示例1：创建集"></a>(1)示例1：创建集</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//a.**创建一个Set**</span></span><br><span class="line"><span class="keyword">var</span> s1 = Set(<span class="number">2</span>,<span class="number">0</span>,<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//往s1中添加一个重复元素</span></span><br><span class="line">s1+<span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//往s1中添加一个不重复元素</span></span><br><span class="line">s1+<span class="number">100</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//创建一个LinkedHashSet,一定要先import下面这个，否则会保错</span></span><br><span class="line"><span class="keyword">import</span> collection.mutable</span><br><span class="line"><span class="keyword">var</span> weeksday = mutable.LinkedHashSet(<span class="string">&quot;星期一&quot;</span>,<span class="string">&quot;星期二&quot;</span>,<span class="string">&quot;星期三&quot;</span>,<span class="string">&quot;星期四&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//创建一个排序的集</span></span><br><span class="line"><span class="keyword">var</span> s2 = mutable.SortedSet(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">10</span>,<span class="number">4</span>)</span><br></pre></td></tr></table></figure>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LWQ2NDZkM2RkZWZlM2Q4YzAucG5n?x-oss-process=image/format,png"></p>
<h5 id="2-示例2：集的操作"><a href="#2-示例2：集的操作" class="headerlink" title="(2)示例2：集的操作"></a>(2)示例2：集的操作</h5><p>a.<strong>添加</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">weeksday+<span class="string">&quot;星期五&quot;</span></span><br></pre></td></tr></table></figure>
<p>b.<strong>判断元素是否存在</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">weeksday <span class="title">contains</span><span class="params">(<span class="string">&quot;星期二&quot;</span>)</span></span></span><br></pre></td></tr></table></figure>
<p>c.<strong>判断一个集是否是另一个集的子集</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Set(<span class="string">&quot;星期二&quot;</span>,<span class="string">&quot;星期四&quot;</span>,<span class="string">&quot;星期日&quot;</span>) subsetOf(weeksday)</span><br></pre></td></tr></table></figure>
<p>d.<strong>集的运算，union并集，intersect交集，diff差集</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> set1=Set(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> set2=Set(<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>)</span><br><span class="line"><span class="comment">//并集：集合相加，去掉重复元素</span></span><br><span class="line">set1 union set2</span><br><span class="line"><span class="comment">//intersect交集</span></span><br><span class="line">set1 intersect set2</span><br><span class="line"><span class="comment">//差集</span></span><br><span class="line">set1 diff set2</span><br></pre></td></tr></table></figure>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LWExNjc4MjZiNTVlYTAzNDcucG5n?x-oss-process=image/format,png" alt="集的操作"></p>
<h4 id="5-模式匹配"><a href="#5-模式匹配" class="headerlink" title="5.模式匹配"></a>5.模式匹配</h4><h5 id="1-Scala有一个强大的模式匹配机制，可以应用在很多场合："><a href="#1-Scala有一个强大的模式匹配机制，可以应用在很多场合：" class="headerlink" title="(1)Scala有一个强大的模式匹配机制，可以应用在很多场合："></a>(1)Scala有一个强大的模式匹配机制，可以应用在很多场合：</h5><ul>
<li>switch语句</li>
<li>类型检查</li>
</ul>
<h5 id="2-Scala还提供了样本类-case-class-，对模式匹配进行了优化"><a href="#2-Scala还提供了样本类-case-class-，对模式匹配进行了优化" class="headerlink" title="(2)Scala还提供了样本类(case class)，对模式匹配进行了优化"></a>(2)Scala还提供了样本类(case class)，对模式匹配进行了优化</h5><h5 id="3-模式匹配示例："><a href="#3-模式匹配示例：" class="headerlink" title="(3)模式匹配示例："></a>(3)模式匹配示例：</h5><ul>
<li>更好的switch</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//更好的switch</span></span><br><span class="line"><span class="keyword">var</span> sign =<span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> ch1 = <span class="string">&#x27;-&#x27;</span></span><br><span class="line"></span><br><span class="line">ch1 match&#123;</span><br><span class="line">  <span class="keyword">case</span> <span class="string">&#x27;+&#x27;</span> =&gt; sign = <span class="number">1</span></span><br><span class="line">  <span class="keyword">case</span> <span class="string">&#x27;-&#x27;</span> =&gt;sign = -<span class="number">1</span></span><br><span class="line">  <span class="keyword">case</span> _ =&gt;sign = <span class="number">0</span></span><br><span class="line">&#125;</span><br><span class="line">println(sign)</span><br></pre></td></tr></table></figure>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LTk3ZTZkMmJhZDIyNzcwZjMucG5n?x-oss-process=image/format,png"></p>
<h5 id="4-Scala的守卫-匹配某种类型的所有值"><a href="#4-Scala的守卫-匹配某种类型的所有值" class="headerlink" title="(4)Scala的守卫:匹配某种类型的所有值"></a>(4)Scala的守卫:匹配某种类型的所有值</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//scala的守卫：匹配某种类型的所有值</span></span><br><span class="line"><span class="keyword">var</span> ch2=<span class="string">&#x27;6&#x27;</span></span><br><span class="line"><span class="keyword">var</span> digit:Int = -<span class="number">1</span></span><br><span class="line">ch2 match&#123;</span><br><span class="line">  <span class="keyword">case</span> <span class="string">&#x27;+&#x27;</span> =&gt; println(<span class="string">&quot;这是一个+&quot;</span>)</span><br><span class="line">  <span class="keyword">case</span> <span class="string">&#x27;-&#x27;</span> =&gt; println(<span class="string">&quot;这是一个-&quot;</span>)</span><br><span class="line">  <span class="keyword">case</span> _ <span class="keyword">if</span> Character.isDigit(ch2) =&gt; digit = Character.digit(ch2,<span class="number">10</span>)</span><br><span class="line"> <span class="keyword">case</span> _ =&gt; println(<span class="string">&quot;其他类型&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">println(<span class="string">&quot;Digit:&quot;</span>+digit)</span><br></pre></td></tr></table></figure>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LTcyMzQ4ZDE1NjZiMjZhY2YucG5n?x-oss-process=image/format,png"></p>
<h5 id="5-模式匹配中的变量"><a href="#5-模式匹配中的变量" class="headerlink" title="(5)模式匹配中的变量"></a>(5)模式匹配中的变量</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//模式匹配的变量</span></span><br><span class="line"><span class="keyword">var</span> str3 = <span class="string">&quot;Hello World&quot;</span></span><br><span class="line"></span><br><span class="line">str3(<span class="number">7</span>) match&#123;</span><br><span class="line">  <span class="keyword">case</span> <span class="string">&#x27;+&#x27;</span> =&gt; println(<span class="string">&quot;这是一个+&quot;</span>)</span><br><span class="line">  <span class="keyword">case</span> <span class="string">&#x27;-&#x27;</span> =&gt; println(<span class="string">&quot;这是一个+&quot;</span>)</span><br><span class="line">  <span class="keyword">case</span> ch =&gt; println(<span class="string">&quot;这是字符：&quot;</span>+ch)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LWIwMmE5MjQ0ODk4MzVjYjcucG5n?x-oss-process=image/format,png"></p>
<h5 id="6-类型模式"><a href="#6-类型模式" class="headerlink" title="(6)类型模式"></a>(6)类型模式</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//类型模式</span></span><br><span class="line"><span class="keyword">var</span> v4:Any =<span class="number">100</span></span><br><span class="line">v4 match&#123;</span><br><span class="line">  <span class="keyword">case</span> x:Int =&gt; println(<span class="string">&quot;这是一个整数：&quot;</span>+x)</span><br><span class="line">  <span class="keyword">case</span> s:String =&gt; println(<span class="string">&quot;这是一个字符串：&quot;</span>+s)</span><br><span class="line">  <span class="keyword">case</span> _ =&gt; println(<span class="string">&quot;这是其他类型&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LTBmZTZhZjNkZmUzMzBkZmYucG5n?x-oss-process=image/format,png"></p>
<h5 id="7-匹配数组和列表"><a href="#7-匹配数组和列表" class="headerlink" title="(7)匹配数组和列表"></a>(7)匹配数组和列表</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//匹配数组和列表</span></span><br><span class="line"><span class="keyword">var</span> myArray = Array(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>)</span><br><span class="line">myArray match&#123;</span><br><span class="line">  <span class="function"><span class="keyword">case</span> <span class="title">Array</span><span class="params">(<span class="number">0</span>)</span> </span>=&gt; println(<span class="string">&quot;0&quot;</span>)</span><br><span class="line">  <span class="function"><span class="keyword">case</span> <span class="title">Array</span><span class="params">(x,y)</span> </span>=&gt;println(<span class="string">&quot;这是数组包含的两个元素，和是：&quot;</span>+(x+y))</span><br><span class="line">  <span class="function"><span class="keyword">case</span> <span class="title">Array</span><span class="params">(x,y,z)</span> </span>=&gt; println(<span class="string">&quot;这是数组包含的三个元素，乘积是：&quot;</span>+(x*y*z))</span><br><span class="line">  <span class="function"><span class="keyword">case</span> <span class="title">Array</span><span class="params">(x,_*)</span> </span>=&gt; println(<span class="string">&quot;这是一个数组&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LTBkNjc1NWI2NWFlZjYwZjMucG5n?x-oss-process=image/format,png"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> myList = List(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>)</span><br><span class="line">myList match&#123;</span><br><span class="line">  <span class="function"><span class="keyword">case</span> <span class="title">List</span><span class="params">(<span class="number">0</span>)</span> </span>=&gt; println(<span class="string">&quot;0&quot;</span>)</span><br><span class="line">  <span class="function"><span class="keyword">case</span> <span class="title">List</span><span class="params">(x,y)</span> </span>=&gt;println(<span class="string">&quot;这是列表包含的两个元素，和是：&quot;</span>+(x+y))</span><br><span class="line">  <span class="function"><span class="keyword">case</span> <span class="title">List</span><span class="params">(x,y,z)</span> </span>=&gt;println(<span class="string">&quot;这是列表包含的三个元素，乘积是：&quot;</span>+(x*y*z))</span><br><span class="line">  <span class="function"><span class="keyword">case</span> <span class="title">List</span><span class="params">(x,_*)</span> </span>=&gt; println(<span class="string">&quot;这个列表包含多个元素&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LTg2N2FlYmVmZWIzMWFiNGMucG5n?x-oss-process=image/format,png"></p>
<h4 id="6-样本类-CaseClass"><a href="#6-样本类-CaseClass" class="headerlink" title="6.样本类(CaseClass)"></a>6.样本类(CaseClass)</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;简单的来说，Scala的case class就是在普通的类定义前加case这个关键字，然后你可以对这些类来模式匹配。</p>
<p><strong>case class带来的最大的好处是它们支持模式识别。</strong></p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;首先，回顾一下前面的模式匹配：</p>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LTJhNjA1ZjUwMmVhMmM2YzQucG5n?x-oss-process=image/format,png" alt="普通的模式匹配"></p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;其次，如果我们想判断一个对象是否是某个类的对象，跟Java一样可以使用isInstanceOf</p>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LWE4NWY1ZTYzNjFjYjcyYjIucG5n?x-oss-process=image/format,png"></p>
<p>下面这个好像有点问题</p>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LTdjZmYxYWE4NThhY2RlMzEucG5n?x-oss-process=image/format,png"></p>
<p>最后，在Scala中有一种更简单的方式来判断，就是case class</p>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LWM2ZThmNDIyYTUxNDNlZjEucG5n?x-oss-process=image/format,png"></p>
<p><strong>注意：需要在class前面使用case关键字</strong></p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Scala/" rel="tag">Scala</a></li></ul>

    </footer>
  </div>

    
 
    
</article>

    
    <article
  id="post-Scala-函数式编程"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/03/05/Scala-%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B/"
    >Scala函数式编程</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2020/03/05/Scala-%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B/" class="article-date">
  <time datetime="2020-03-05T10:50:00.000Z" itemprop="datePublished">2020-03-05</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/Scala/">Scala</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h4 id="1-Scala中的函数"><a href="#1-Scala中的函数" class="headerlink" title="1.Scala中的函数"></a>1.Scala中的函数</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;在Scala中，函数是“头等公民”，就和数字一样。<strong>可以在变量中存放函数，即：将函数作为变量的值(值函数)</strong></p>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LTRmOGNlMzhmODZiYzcxMTgucG5n?x-oss-process=image/format,png"></p>
<p><strong>举例</strong>：使用Spark来执行WordCount</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> result = sc.textFile(<span class="string">&quot;hdfs://....&quot;</span>).flatMap(_.split(<span class="string">&quot; &quot;</span>)).map((_,<span class="number">1</span>)).reduceByKey(_+_).collect</span><br></pre></td></tr></table></figure>
<h4 id="2-匿名函数-没有名字的函数"><a href="#2-匿名函数-没有名字的函数" class="headerlink" title="2.匿名函数:没有名字的函数"></a>2.匿名函数:没有名字的函数</h4><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LWE0YmZiZGEzZGIwYjExMjEucG5n?x-oss-process=image/format,png"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//普通函数</span></span><br><span class="line"><span class="function">def <span class="title">fun1</span><span class="params">(x:Int)</span>:Int </span>= x*<span class="number">3</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//匿名函数</span></span><br><span class="line">(x:Int)=&gt;x*<span class="number">3</span></span><br></pre></td></tr></table></figure>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LTIxMGNlMDM0ZjE4NzY5NjgucG5n?x-oss-process=image/format,png"></p>
<p>注：匿名函数：一个普通的函数，把返回值去掉，再把函数名和“def”去掉，再在”=”后面的加一个”&gt;”</p>
<p>调用匿名函数作为函数参数</p>
<h4 id="3-带函数参数的函数，即：高阶函数"><a href="#3-带函数参数的函数，即：高阶函数" class="headerlink" title="3.带函数参数的函数，即：高阶函数"></a>3.带函数参数的函数，即：高阶函数</h4><h5 id="1-示例1："><a href="#1-示例1：" class="headerlink" title="(1)示例1："></a>(1)示例1：</h5><ul>
<li>(a)首先，定义一个最普通的函数</li>
</ul>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LTZkNDM5ODJjZTRmMGY1Y2UucG5n?x-oss-process=image/format,png"></p>
<ul>
<li>(b)再定义一个高阶函数</li>
</ul>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LTk3YzUwZGU3NmI3Y2NkNzUucG5n?x-oss-process=image/format,png"></p>
<ul>
<li>(c )分析这个高阶函数调用的过程</li>
</ul>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LTg4ZDM1MzJjOTQ5ZWEyMWYucG5n?x-oss-process=image/format,png"></p>
<h5 id="2-示例2："><a href="#2-示例2：" class="headerlink" title="(2)示例2："></a>(2)示例2：</h5><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LTE4YTYyZjU5NGJkYzQyM2QucG5n?x-oss-process=image/format,png"></p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;在这个例子中，首先定义了一个普通的函数mytest，然后定义了一个高阶函数myFunction；myFunction接收三个参数：第一个f是一个函数参数，第二个是x，第三个是y。而f是一个函数参数，本身接收两个Int的参数，返回一个Int的值。</p>
<h4 id="4-高阶函数示例"><a href="#4-高阶函数示例" class="headerlink" title="4.高阶函数示例"></a>4.高阶函数示例</h4><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LTJiZDdhMTQ0OTI1YWNiYWEucG5n?x-oss-process=image/format,png"></p>
<h5 id="1-map-相当于一个循环，对某个集合中的每个元素进行操作-接收一个函数-，返回一个新的集合"><a href="#1-map-相当于一个循环，对某个集合中的每个元素进行操作-接收一个函数-，返回一个新的集合" class="headerlink" title="(1)map:相当于一个循环，对某个集合中的每个元素进行操作(接收一个函数)，返回一个新的集合"></a>(1)map:相当于一个循环，对某个集合中的每个元素进行操作(接收一个函数)，返回一个新的集合</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//map</span></span><br><span class="line"><span class="comment">//在列表中的每个元素上计算一个函数，并且返回一个包含相同数目元素的列表</span></span><br><span class="line">val numbers = List(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line">numbers.map((i:Int)=&gt;i*<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">numbers.map(_*<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//map函数不改变numbers值</span></span><br><span class="line">numbers</span><br></pre></td></tr></table></figure>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LTVhZmQ3OTZlNGI3YWRjYjUucG5n?x-oss-process=image/format,png"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">_ 相当于循环变量 i</span><br><span class="line">_*<span class="number">2</span> 与 (i:Int)=&gt;i*<span class="number">2</span> 功能相同</span><br><span class="line">_+_ 与 (i:Int,j:Int)=&gt;i+j</span><br></pre></td></tr></table></figure>
<h5 id="2-foreach：相当于一个循环，对某个集合中的每个元素进行操作-接收一个函数-，不返回结果。"><a href="#2-foreach：相当于一个循环，对某个集合中的每个元素进行操作-接收一个函数-，不返回结果。" class="headerlink" title="(2)foreach：相当于一个循环，对某个集合中的每个元素进行操作(接收一个函数)，不返回结果。"></a>(2)foreach：相当于一个循环，对某个集合中的每个元素进行操作(接收一个函数)，不返回结果。</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//foreach</span></span><br><span class="line"><span class="comment">//foreach和map相似，只不过它没有返回值，foreach主要是为了对参数进行作用</span></span><br><span class="line">numbers.foreach((i:Int) =&gt; i * <span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">numbers.foreach(_*<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">numbers</span><br><span class="line"></span><br><span class="line">numbers.foreach(println(_))</span><br><span class="line"></span><br><span class="line">numbers.map(_*<span class="number">2</span>).foreach(println)</span><br></pre></td></tr></table></figure>

<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LWYyOWYzNzQ3OWQzMzJhMmUucG5n?x-oss-process=image/format,png"></p>
<h5 id="3-filter：过滤，选择满足的数据"><a href="#3-filter：过滤，选择满足的数据" class="headerlink" title="(3)filter：过滤，选择满足的数据"></a>(3)filter：过滤，选择满足的数据</h5><p>举例：查询能够被2整除的数字</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//filter</span></span><br><span class="line"><span class="comment">//移除任何使得传入的函数返回false的元素</span></span><br><span class="line"></span><br><span class="line">numbers.filter((i:Int) =&gt;i%<span class="number">2</span>==<span class="number">0</span>)</span><br></pre></td></tr></table></figure>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LThiM2E3Zjk3M2VjZjRiMGUucG5n?x-oss-process=image/format,png"></p>
<p>说明：(i:Int)=&gt;i%2==0  如果是true 就返回</p>
<h5 id="4-zip：合并两个集合"><a href="#4-zip：合并两个集合" class="headerlink" title="(4)zip：合并两个集合"></a>(4)zip：合并两个集合</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//zip</span></span><br><span class="line"><span class="comment">//zip把两个列表的原色合成一个由元素对组成的列表</span></span><br><span class="line">List(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>).zip(List(<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>))</span><br><span class="line"></span><br><span class="line">List(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>).zip(List(<span class="number">4</span>,<span class="number">5</span>))</span><br><span class="line"></span><br><span class="line">List(<span class="number">3</span>).zip(List(<span class="number">4</span>,<span class="number">5</span>))</span><br></pre></td></tr></table></figure>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LWVkYWM3NzU0M2RmZjcyMWUucG5n?x-oss-process=image/format,png"></p>
<h5 id="5-partition：根据断言-就是某个条件，可以通过一个匿名函数来实现-的结果，进行分区"><a href="#5-partition：根据断言-就是某个条件，可以通过一个匿名函数来实现-的结果，进行分区" class="headerlink" title="(5)partition：根据断言(就是某个条件，可以通过一个匿名函数来实现)的结果，进行分区"></a>(5)partition：根据断言(就是某个条件，可以通过一个匿名函数来实现)的结果，进行分区</h5><p>举例：把能够被2整除的分成一个区，不能整除的分成另一个区</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//partition</span></span><br><span class="line"><span class="comment">//partition根据断言函数的返回值对列表进行拆分</span></span><br><span class="line">numbers.partition((i:Int)=&gt;i%<span class="number">2</span>==<span class="number">0</span>)</span><br></pre></td></tr></table></figure>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LTFkODFiNzFmNzM1MDg4NTEucG5n?x-oss-process=image/format,png"></p>
<p>在这个例子中，可以被2整除的被分到一个分区；不能被2整除的被分到另一个分区。</p>
<h5 id="6-find：查找第一个满足条件-断言-的元素"><a href="#6-find：查找第一个满足条件-断言-的元素" class="headerlink" title="(6)find：查找第一个满足条件(断言)的元素"></a>(6)find：查找第一个满足条件(断言)的元素</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//find</span></span><br><span class="line"><span class="comment">//find返回集合里第一个匹配断言函数的元素</span></span><br><span class="line">numbers.find(_ % <span class="number">3</span>==<span class="number">0</span>)</span><br></pre></td></tr></table></figure>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LTZhMmJiYTMxNmQwMDU0OTIucG5n?x-oss-process=image/format,png"></p>
<h5 id="7-flatten-把嵌套的结果展开-合并成为一个集合"><a href="#7-flatten-把嵌套的结果展开-合并成为一个集合" class="headerlink" title="(7)flatten:把嵌套的结果展开,合并成为一个集合"></a>(7)flatten:把嵌套的结果展开,合并成为一个集合</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//flatten</span></span><br><span class="line"><span class="comment">//flatten可以把嵌套的结构展开</span></span><br><span class="line">List(List(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>),List(<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>)).flatten</span><br></pre></td></tr></table></figure>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LTJhZDZmNDhjN2JmODk0ZGMucG5n?x-oss-process=image/format,png"></p>
<h5 id="8-flatmap：相当于map-flatten"><a href="#8-flatmap：相当于map-flatten" class="headerlink" title="(8)flatmap：相当于map+flatten"></a>(8)flatmap：相当于map+flatten</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//flatMap</span></span><br><span class="line"><span class="comment">//flatMap是一个常用的combinator，它结合了map和flatten的功能</span></span><br><span class="line">val myList = List(List(<span class="number">2</span>,<span class="number">4</span>,<span class="number">6</span>,<span class="number">8</span>,<span class="number">10</span>),List(<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">9</span>))</span><br><span class="line"></span><br><span class="line">myList.flatMap(x=&gt;x.map(_*<span class="number">2</span>))</span><br></pre></td></tr></table></figure>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LWM0NTk3NmZhOTIwZmI4MzMucG5n?x-oss-process=image/format,png"></p>
<p>执行过程：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>将List(<span class="number">2</span>,<span class="number">4</span>,<span class="number">6</span>,<span class="number">8</span>,<span class="number">10</span>)和List(<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">9</span>)调用了x=&gt;x.map(_*<span class="number">2</span>)  这里x代表某个<span class="function">List</span></span><br><span class="line"><span class="function"><span class="title">List</span><span class="params">(<span class="number">4</span>, <span class="number">8</span>, <span class="number">12</span>, <span class="number">16</span>, <span class="number">20</span>)</span>  和 <span class="title">List</span><span class="params">(<span class="number">2</span>, <span class="number">6</span>, <span class="number">10</span>, <span class="number">14</span>, <span class="number">18</span>)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">2.合并成一个List</span></span><br><span class="line"><span class="function"><span class="title">List</span><span class="params">(<span class="number">4</span>, <span class="number">8</span>, <span class="number">12</span>, <span class="number">16</span>, <span class="number">20</span>, <span class="number">2</span>, <span class="number">6</span>, <span class="number">10</span>, <span class="number">14</span>, <span class="number">18</span>)</span></span></span><br></pre></td></tr></table></figure>
<h4 id="5-闭包"><a href="#5-闭包" class="headerlink" title="5.闭包"></a>5.闭包</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;就是函数的嵌套，即：在一个函数定义中，包含另外一个函数的定义；<strong>并且在内函数中可以访问外函数中的变量</strong></p>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LTE2MWJhNjY5YTk0NTZjY2EucG5n?x-oss-process=image/format,png"></p>
<p>测试上面的函数：</p>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LTFkOTFkN2M2NGQ0NDA0M2YucG5n?x-oss-process=image/format,png"></p>
<h4 id="6-柯里化：Currying"><a href="#6-柯里化：Currying" class="headerlink" title="6.柯里化：Currying"></a>6.柯里化：Currying</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;柯里化函数(Curried Function)是把具有多个参数的函数转换为一条函数链，每个节点上是单一参数。</p>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LTQ2YTc4OWYyZGFhYzIyYzkucG5n?x-oss-process=image/format,png"><br>一个简单的例子：<br><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LTMxNTEwNWZmZmQzM2U4NGYucG5n?x-oss-process=image/format,png"></p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Scala/" rel="tag">Scala</a></li></ul>

    </footer>
  </div>

    
 
    
</article>

    
    <article
  id="post-Scala-面向对象"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/03/05/Scala-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/"
    >Scala面向对象</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2020/03/05/Scala-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/" class="article-date">
  <time datetime="2020-03-05T09:50:00.000Z" itemprop="datePublished">2020-03-05</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/Scala/">Scala</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h4 id="1-面向对象的基本概念"><a href="#1-面向对象的基本概念" class="headerlink" title="1.面向对象的基本概念"></a>1.面向对象的基本概念</h4><p>把数据及对数据的操作方法放在一起，作为一个相互依存的整体——对象</p>
<p>面向对象的三大特征：</p>
<ul>
<li>封装: 类 class。把属性和操作属性的方法，放在一起</li>
<li>继承</li>
<li>多态</li>
</ul>
<h4 id="2-类的定义"><a href="#2-类的定义" class="headerlink" title="2.类的定义"></a>2.类的定义</h4><p>简单类和无参方法：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Counter</span></span>&#123;</span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">var</span> value =<span class="number">0</span>;</span><br><span class="line">  </span><br><span class="line">  <span class="function">def <span class="title">increment</span><span class="params">()</span> </span>&#123; value +=<span class="number">1</span>&#125;;</span><br><span class="line">  <span class="function">def <span class="title">current</span><span class="params">()</span> </span>= value;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>案例：注意没有class前面没有public关键字修饰。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//scala中类的定义</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student1</span></span>&#123;</span><br><span class="line">    <span class="comment">//定义属性</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">var</span> stuName:String = <span class="string">&quot;Tom&quot;</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">var</span> stuAge:Int = <span class="number">20</span></span><br><span class="line">    <span class="comment">//成员方法</span></span><br><span class="line">    <span class="function">def <span class="title">getStuName</span><span class="params">()</span>:String </span>= <span class="function">stuName</span></span><br><span class="line"><span class="function">    def <span class="title">setStuName</span><span class="params">(newName:String)</span> </span>= <span class="keyword">this</span>.stuName=<span class="function">newName</span></span><br><span class="line"><span class="function">    def <span class="title">getStuAge</span><span class="params">()</span>:Int </span>= <span class="function">stuAge</span></span><br><span class="line"><span class="function">    def <span class="title">setStuAge</span><span class="params">(newAge:Int)</span> </span>= <span class="keyword">this</span>.stuAge=newAge</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>如果要开发main方法，需要将main方法定义在该类的伴生对象中，即：object对象中</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * 测试student1类，创建main函数</span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  * 注意：object和class名字可以不一样的</span></span><br><span class="line"><span class="comment">  * 如果oject和class的名字相同，object成为该class的 伴生对象</span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"><span class="comment">//创建Student1的伴生对象</span></span><br><span class="line">object Student1&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function">def <span class="title">main</span><span class="params">(args:Array[String])</span></span>&#123;</span><br><span class="line">        </span><br><span class="line">    <span class="comment">//创建一个学生对象</span></span><br><span class="line">    <span class="keyword">var</span> s1 = <span class="keyword">new</span> Student1</span><br><span class="line"></span><br><span class="line">    <span class="comment">//访问属性并输出</span></span><br><span class="line">    println(s1.getStuName() + <span class="string">&quot;\t&quot;</span> + s1.getStuAge())</span><br><span class="line"></span><br><span class="line">    <span class="comment">//访问set方法</span></span><br><span class="line">    s1.setStuName(<span class="string">&quot;Mary&quot;</span>)</span><br><span class="line">    s1.setStuAge(<span class="number">22</span>)</span><br><span class="line">    println(s1.getStuName() + <span class="string">&quot;\t&quot;</span> + s1.getStuAge())</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">      * 直接访问私有属性</span></span><br><span class="line"><span class="comment">      *</span></span><br><span class="line"><span class="comment">      * 上面定义中，属性都是private的</span></span><br><span class="line"><span class="comment">      * 如果属性是private的，在类的外部，是不能访问的</span></span><br><span class="line"><span class="comment">      *</span></span><br><span class="line"><span class="comment">      */</span></span><br><span class="line">    println(<span class="string">&quot;------------直接访问私有属性-----------&quot;</span>)</span><br><span class="line">    println(s1.stuId +<span class="string">&quot;\t&quot;</span>+ s1.stuName +<span class="string">&quot;\t&quot;</span>+ s1.age)</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">      * 注意：我们可以直接访问类的私有成员，为什么？</span></span><br><span class="line"><span class="comment">      * s1.stuId +&quot;\t&quot;+ s1.stuName +&quot;\t&quot;+ s1.age</span></span><br><span class="line"><span class="comment">      * 使用 . 方式访问的</span></span><br><span class="line"><span class="comment">      *</span></span><br><span class="line"><span class="comment">      * scala中属性的get set 方法：</span></span><br><span class="line"><span class="comment">      *</span></span><br><span class="line"><span class="comment">      * 1、当一个属性是private的时候，scala会自动为其生成对应的get set 方法</span></span><br><span class="line"><span class="comment">      * s1.stuId 访问的是scala中，自动为stuId生成的get方法，并且该方法的名字为stuId</span></span><br><span class="line"><span class="comment">      *</span></span><br><span class="line"><span class="comment">      * 2、如果值希望scala生成get方法，不生成set方法，可以将其定义为常量</span></span><br><span class="line"><span class="comment">      * 因为常量的值不可改变</span></span><br><span class="line"><span class="comment">      *</span></span><br><span class="line"><span class="comment">      * 3、如果希望属性，不能被外部访问（希望scala不要生成set get 方法），使用 private [this] 关键字</span></span><br><span class="line"><span class="comment">      *</span></span><br><span class="line"><span class="comment">      */</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="3-属性的getter和setter方法"><a href="#3-属性的getter和setter方法" class="headerlink" title="3.属性的getter和setter方法"></a>3.属性的getter和setter方法</h4><h5 id="1-当定义属性是private时候，scala会自动为其生成对应的get和set方法"><a href="#1-当定义属性是private时候，scala会自动为其生成对应的get和set方法" class="headerlink" title="(1)当定义属性是private时候，scala会自动为其生成对应的get和set方法"></a>(1)当定义属性是private时候，scala会自动为其生成对应的get和set方法</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">var</span> stuName:String = <span class="string">&quot;Tom&quot;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>get方法: stuName    —-&gt; s2.stuName() 由于stuName是方法的名字，所以可以加上一个括号</li>
<li>set方法: stuName_=  —-&gt; stuName_= 是方法的名字</li>
</ul>
<h5 id="2-定义属性："><a href="#2-定义属性：" class="headerlink" title="(2)定义属性："></a>(2)定义属性：</h5><p>private var money:Int = 1000 希望money只有get方法，没有set方法？？</p>
<p>解决办法：将其定义为常量private val money:Int = 1000</p>
<h5 id="3-private-this-的用法："><a href="#3-private-this-的用法：" class="headerlink" title="(3) private[this]的用法："></a>(3) private[this]的用法：</h5><p>该属性只属于该对象私有，就不会生成对应的set和get方法。如果这样，就不能直接调用，例如：s1.stuName —&gt; 错误</p>
<h4 id="4、内部类-嵌套类"><a href="#4、内部类-嵌套类" class="headerlink" title="4、内部类(嵌套类)"></a>4、内部类(嵌套类)</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;我们可以在一个类的内部在定义一个类，如下：我们在Student类中，再定义了一个Course类用于保存学生选修的课程。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> scala.collection.mutable.ArrayBuffer</span><br><span class="line"><span class="comment">//嵌套类，内部类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student3</span></span>&#123;</span><br><span class="line">    <span class="comment">//定义一个内部类，记录学生选修的课程信息</span></span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Course</span>(<span class="title">val</span> <span class="title">courseName</span>:<span class="title">String</span>,<span class="title">val</span> <span class="title">credit</span>:<span class="title">Int</span>)</span>&#123;</span><br><span class="line">      <span class="comment">//定义方法</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//属性</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">var</span> stuName:String = <span class="string">&quot;Tom&quot;</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">var</span> stuAge:Int = <span class="number">20</span></span><br><span class="line">    <span class="comment">//定义一个ArrayBuffer记录该学生选修的所有课程</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">var</span> courseList = <span class="keyword">new</span> ArrayBuffer[Course]()</span><br><span class="line"></span><br><span class="line">    <span class="comment">//定义方法往学生信息中添加新的课程</span></span><br><span class="line">    <span class="function">def <span class="title">addNewCourse</span><span class="params">(cname:String,credit:Int)</span></span>&#123;</span><br><span class="line">        <span class="comment">//创建新的课程</span></span><br><span class="line">        <span class="keyword">var</span> c = <span class="keyword">new</span> Course(cname,credit)</span><br><span class="line"></span><br><span class="line">        <span class="comment">//将课程加入list</span></span><br><span class="line">        courseList +=c</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>测试程序：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">Object Student3&#123;</span><br><span class="line">    <span class="function">def <span class="title">main</span><span class="params">(args:Array[String])</span></span>&#123;</span><br><span class="line">        <span class="comment">//创建学生对象</span></span><br><span class="line">        <span class="keyword">var</span> s3 = <span class="keyword">new</span> Student3</span><br><span class="line"></span><br><span class="line">        <span class="comment">//给该学生添加新的课程</span></span><br><span class="line">        s3.addNewCourse(<span class="string">&quot;Chinese&quot;</span>,<span class="number">2</span>)</span><br><span class="line">        s3.addNewCourse(<span class="string">&quot;English&quot;</span>,<span class="number">3</span>)</span><br><span class="line">        s3.addNewCourse(<span class="string">&quot;Math&quot;</span>,<span class="number">4</span>)    </span><br><span class="line"></span><br><span class="line">        <span class="comment">//输出</span></span><br><span class="line">        println(s3.stuName+<span class="string">&quot;\t&quot;</span>+s3.stuAge)</span><br><span class="line">        println(<span class="string">&quot;********选修的课程********&quot;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(s &lt;- s3.courseList) println(s.courseName+<span class="string">&quot;\t&quot;</span>+s.credit)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="5-类的构造器"><a href="#5-类的构造器" class="headerlink" title="5.类的构造器"></a>5.类的构造器</h4><p>类的构造器分为：主构造器、辅助构造器</p>
<h5 id="1-主构造器：和类的声明结合在一起，只能有一个主构造器"><a href="#1-主构造器：和类的声明结合在一起，只能有一个主构造器" class="headerlink" title="(1)主构造器：和类的声明结合在一起，只能有一个主构造器"></a>(1)主构造器：和类的声明结合在一起，只能有一个主构造器</h5><p>Student4(val stuName:String,val stuAge:Int)</p>
<ul>
<li>(a) 定义类的主构造器：两个参数</li>
<li>(b) 声明了两个属性：stuName和stuAge 和对应的get和set方法</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student4</span>(<span class="title">val</span> <span class="title">stuName</span>:<span class="title">String</span>,<span class="title">val</span> <span class="title">stuAge</span>:<span class="title">Int</span>)</span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">object Student4&#123;</span><br><span class="line">    <span class="function">def <span class="title">main</span><span class="params">(args:Array[String])</span></span>&#123;</span><br><span class="line">        <span class="comment">//创建Student4的一个对象</span></span><br><span class="line">        <span class="keyword">var</span> s4 = <span class="keyword">new</span> Student4(<span class="string">&quot;Tom&quot;</span>,<span class="number">20</span>)</span><br><span class="line"></span><br><span class="line">        println(s4.stuName+<span class="string">&quot;\t&quot;</span>+s4.stuAge)        <span class="comment">//调用了主构造器</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="2-辅助构造器：可以有多个辅助构造器，通过关键字this来实现"><a href="#2-辅助构造器：可以有多个辅助构造器，通过关键字this来实现" class="headerlink" title="(2)辅助构造器：可以有多个辅助构造器，通过关键字this来实现"></a>(2)辅助构造器：可以有多个辅助构造器，通过关键字this来实现</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student4</span>(<span class="title">val</span> <span class="title">stuName</span>:<span class="title">String</span>,<span class="title">val</span> <span class="title">stuAge</span>:<span class="title">Int</span>)</span>&#123;</span><br><span class="line">    <span class="comment">//定义辅助构造器</span></span><br><span class="line">    <span class="function">def <span class="title">this</span><span class="params">(age:Int)</span></span>&#123;</span><br><span class="line">        <span class="comment">//调用主构造器</span></span><br><span class="line">        <span class="keyword">this</span>(<span class="string">&quot;no name&quot;</span>,age)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">object Student4&#123;</span><br><span class="line">    <span class="function">def <span class="title">main</span><span class="params">(args:Array[String])</span></span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//创建一个新的Student4对象，并调用辅助构造器</span></span><br><span class="line">        <span class="keyword">var</span> s42 = <span class="keyword">new</span> Student4(<span class="number">25</span>)</span><br><span class="line"></span><br><span class="line">        println(s42.stuName+<span class="string">&quot;\t&quot;</span>+s42.stuAge)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>主构造器和辅助构造器：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student3</span>(<span class="title">var</span> <span class="title">stuName</span> : <span class="title">String</span> , <span class="title">var</span> <span class="title">age</span>:<span class="title">Int</span>) </span>&#123;</span><br><span class="line">  <span class="comment">//属性</span></span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">var</span> gender:Int = <span class="number">1</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">//定义一个辅助构造器，辅助构造器可以有多个</span></span><br><span class="line">  <span class="comment">//辅助构造器就是一个函数，只不过这个函数的名字叫 this</span></span><br><span class="line"></span><br><span class="line">  <span class="function">def <span class="title">this</span> <span class="params">(age : Int)</span></span>&#123;</span><br><span class="line">    <span class="keyword">this</span>(<span class="string">&quot;Mike&quot;</span>,age) <span class="comment">// new Student3(&quot;Mike&quot;,age)</span></span><br><span class="line">    println(<span class="string">&quot;这是辅助构造器&quot;</span>)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function">def <span class="title">this</span> <span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">this</span>(<span class="number">10</span>)<span class="comment">// new Student3(&quot;Mike&quot;,10)</span></span><br><span class="line">    println(<span class="string">&quot;这是辅助构造器2&quot;</span>)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">object  Student3&#123;</span><br><span class="line">  <span class="function">def <span class="title">main</span><span class="params">(args: Array[String])</span>: Unit </span>= &#123;</span><br><span class="line">    <span class="comment">//使用主构造器 创建学生对象</span></span><br><span class="line">    <span class="keyword">var</span> s1 = <span class="keyword">new</span> Student3(<span class="string">&quot;Tom&quot;</span>,<span class="number">20</span>)</span><br><span class="line">    println(s1.stuName+<span class="string">&quot;\t&quot;</span>+s1.age)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//使用辅助构造器</span></span><br><span class="line">    <span class="keyword">var</span> s2 = <span class="keyword">new</span> Student3(<span class="number">20</span>)</span><br><span class="line">    s2.gender = <span class="number">0</span></span><br><span class="line">    s2.stuName = <span class="string">&quot;have name&quot;</span></span><br><span class="line">    println(s2.stuName+<span class="string">&quot;\t&quot;</span>+s2.age+<span class="string">&quot;\t&quot;</span>+s2.gender)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="6-Scala中的Object对象"><a href="#6-Scala中的Object对象" class="headerlink" title="6.Scala中的Object对象"></a>6.Scala中的Object对象</h4><h5 id="1-什么是object对象？"><a href="#1-什么是object对象？" class="headerlink" title="(1)什么是object对象？"></a>(1)什么是object对象？</h5><ul>
<li>Object中的内容都是静态的</li>
<li>scala中，没有static关键字，所有static都定义在object中</li>
<li>如果class的名字，跟object的名字一样，就把这个object叫做类的伴生对象。</li>
</ul>
<p>注意：main函数需要写在object中，但是不一定必须写在伴生对象中。</p>
<p>下面是Java中的静态块的例子。在这个例子中，就对JDBC进行了初始化。<br>java:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span>&#123;</span><br><span class="line">    <span class="keyword">try</span>&#123;</span><br><span class="line">        Class.forName(driver);</span><br><span class="line">    &#125; <span class="keyword">catch</span>(ClassNotFoundException e)&#123;</span><br><span class="line">          <span class="keyword">throw</span> <span class="keyword">new</span> ExceptionInInitializerError(e);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>而Scala中的Object就相当于Java中静态块</strong></p>
<p><strong>Object对象的应用</strong></p>
<h5 id="1-单例对象：使用object来实现单例模式：一个类只有一个对象"><a href="#1-单例对象：使用object来实现单例模式：一个类只有一个对象" class="headerlink" title="(1)单例对象：使用object来实现单例模式：一个类只有一个对象"></a>(1)单例对象：使用object来实现单例模式：一个类只有一个对象</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//利用object对象实现单例模式</span></span><br><span class="line">object CreditCard&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//变量保存信用卡号</span></span><br><span class="line">    <span class="keyword">private</span> [<span class="keyword">this</span>] <span class="keyword">var</span> creditCardNumber:Long = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//产生新的卡号</span></span><br><span class="line">    <span class="function">def <span class="title">generateNewCCNumber</span><span class="params">()</span>:Long </span>= &#123;</span><br><span class="line">        creditCardNumber += <span class="number">1</span></span><br><span class="line">        creditCardNumber</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//测试程序</span></span><br><span class="line">    <span class="function">def <span class="title">main</span><span class="params">(args:Array[String])</span></span>&#123;</span><br><span class="line">        <span class="comment">//产生新的卡号</span></span><br><span class="line">        println(CreditCard.generateNewCCNumber())</span><br><span class="line">        println(CreditCard.generateNewCCNumber())</span><br><span class="line">        println(CreditCard.generateNewCCNumber())</span><br><span class="line">        println(CreditCard.generateNewCCNumber())</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="2-使用APP对象：可以省略main方法；需要从父类App继承。"><a href="#2-使用APP对象：可以省略main方法；需要从父类App继承。" class="headerlink" title="(2)使用APP对象：可以省略main方法；需要从父类App继承。"></a>(2)使用APP对象：可以省略main方法；需要从父类App继承。</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//使用应用程序对象：可以省略main方法</span></span><br><span class="line">object HelloWorld extends App&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">//    def main(args:Array[String])&#123;</span></span><br><span class="line"><span class="comment">//        </span></span><br><span class="line"><span class="comment">//    &#125;</span></span><br><span class="line"><span class="comment">//这里的main可以不写，相当于下面的代码是在main方法中执行的</span></span><br><span class="line"></span><br><span class="line">    println(<span class="string">&quot;Hello World&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//如何取得命令行的参数</span></span><br><span class="line">    <span class="keyword">if</span>(args.length&gt;<span class="number">0</span>)&#123;</span><br><span class="line">        println(args(<span class="number">0</span>))</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        println(<span class="string">&quot;no argument&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="7-Scala中的apply方法"><a href="#7-Scala中的apply方法" class="headerlink" title="7. Scala中的apply方法"></a>7. Scala中的apply方法</h4><p>遇到如下形式的表达式时，apply方法就会被调用：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Object(参数<span class="number">1</span>,参数<span class="number">2</span>,......,参数N)</span><br></pre></td></tr></table></figure>
<p>通常，这样一个apply方法返回的是伴生类的对象；其作用是为了省略new关键字</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> marry = Array(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>)</span><br><span class="line"><span class="comment">//这里没有用new关键字，其实就是用了apply方法</span></span><br></pre></td></tr></table></figure>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LWU0Y2Q1NjcwZTc1NzZjZTEucG5n?x-oss-process=image/format,png"></p>
<h5 id="1-Object的apply方法举例："><a href="#1-Object的apply方法举例：" class="headerlink" title="(1)Object的apply方法举例："></a>(1)Object的apply方法举例：</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//object的apply方法</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student5</span>(<span class="title">val</span> <span class="title">stuName</span>:<span class="title">String</span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">object Student5&#123;</span><br><span class="line">    <span class="function">def <span class="title">apply</span><span class="params">(stuName:String)</span> </span>= &#123;</span><br><span class="line">        println(<span class="string">&quot;******Apply in Object***********&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function">def <span class="title">main</span><span class="params">(args:Array[String])</span></span>&#123;</span><br><span class="line">        <span class="comment">//创建一个Student5的对象</span></span><br><span class="line">        <span class="keyword">var</span> s51 = <span class="keyword">new</span> Student5(<span class="string">&quot;Tom&quot;</span>)</span><br><span class="line">        println(s51.stuName)</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//创建一个Student5的对象</span></span><br><span class="line">        <span class="keyword">var</span> s52 = <span class="keyword">new</span> Student5(<span class="string">&quot;Tom&quot;</span>)</span><br><span class="line">        println(s52.stuName)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LTE3Mjg1YWQxNDllYjgzYmIucG5n?x-oss-process=image/format,png"></p>
<ul>
<li>使用apply方法，让程序更加简洁。</li>
<li>apply方法必须写在伴生对象中。</li>
</ul>
<h4 id="8-Scala中的继承"><a href="#8-Scala中的继承" class="headerlink" title="8.Scala中的继承"></a>8.Scala中的继承</h4><p>Scala和Java一样，使用extends关键字扩展类。</p>
<h5 id="1-案例一：Employee类继承Person类"><a href="#1-案例一：Employee类继承Person类" class="headerlink" title="(1)案例一：Employee类继承Person类"></a>(1)案例一：Employee类继承Person类</h5><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LTA1ZDU0OWFlZWJiODA5MTEucG5n?x-oss-process=image/format,png"></p>
<h5 id="2-案例二：在子类中重写父类的方法"><a href="#2-案例二：在子类中重写父类的方法" class="headerlink" title="(2)案例二：在子类中重写父类的方法"></a>(2)案例二：在子类中重写父类的方法</h5><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LTI4M2RkYWNjYTE3NjkxMWYucG5n?x-oss-process=image/format,png"></p>
<h5 id="3-案例三：使用匿名子类"><a href="#3-案例三：使用匿名子类" class="headerlink" title="(3)案例三：使用匿名子类"></a>(3)案例三：使用匿名子类</h5><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LTg4MmRiYTU1ZTE2OWNiMmEucG5n?x-oss-process=image/format,png"></p>
<h5 id="4-案例四：使用抽象类。抽象类中包含抽象方法，抽象类只能用来继承。"><a href="#4-案例四：使用抽象类。抽象类中包含抽象方法，抽象类只能用来继承。" class="headerlink" title="(4)案例四：使用抽象类。抽象类中包含抽象方法，抽象类只能用来继承。"></a>(4)案例四：使用抽象类。抽象类中包含抽象方法，抽象类只能用来继承。</h5><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LTk5NGM2MGQ0ZDQxODY1ZTcucG5n?x-oss-process=image/format,png"></p>
<h5 id="5-案例五：使用抽象字段。抽象字段就是一个没有初始值的字段"><a href="#5-案例五：使用抽象字段。抽象字段就是一个没有初始值的字段" class="headerlink" title="(5)案例五：使用抽象字段。抽象字段就是一个没有初始值的字段"></a>(5)案例五：使用抽象字段。抽象字段就是一个没有初始值的字段</h5><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LWRmNjRhYjVlMjk1MDc1OWEucG5n?x-oss-process=image/format,png"></p>
<h4 id="9-Scala中的trait（特质）"><a href="#9-Scala中的trait（特质）" class="headerlink" title="9.Scala中的trait（特质）"></a>9.Scala中的trait（特质）</h4><p>trait就是抽象类。trait跟抽象类最大的区别：trait支持多重继承</p>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LTEwMzBlYWVmYjAzNmZhZDQucG5n?x-oss-process=image/format,png"></p>
<h4 id="10-包的使用"><a href="#10-包的使用" class="headerlink" title="10.包的使用"></a>10.包的使用</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;Scala的包和Java中的包或者C++中的命名空间的目的是相同的，管理大型程序中的名称</p>
<p>Scala中包的定义和使用：</p>
<h5 id="1-包的定义"><a href="#1-包的定义" class="headerlink" title="(1)包的定义"></a>(1)包的定义</h5><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LTU0MzNhMzhkZTViOGVlMTcucG5n?x-oss-process=image/format,png"></p>
<h5 id="2-包的引入：Scala中依然使用import作为引用包的关键字，例如"><a href="#2-包的引入：Scala中依然使用import作为引用包的关键字，例如" class="headerlink" title="(2)包的引入：Scala中依然使用import作为引用包的关键字，例如"></a>(2)包的引入：Scala中依然使用import作为引用包的关键字，例如</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> com.my.io.XXX     <span class="comment">//可以不写XXX的全路径</span></span><br><span class="line"><span class="keyword">import</span> com.my.io._       <span class="comment">//引用import com.my.io下所有的类型</span></span><br><span class="line"><span class="keyword">import</span> com.my.io.XXX._   <span class="comment">//引用import com.my.io.XXX的所有成员</span></span><br></pre></td></tr></table></figure>
<h5 id="3-而且Scala中的import可以写在任意地方"><a href="#3-而且Scala中的import可以写在任意地方" class="headerlink" title="(3)而且Scala中的import可以写在任意地方"></a>(3)而且Scala中的import可以写在任意地方</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">def <span class="title">method</span><span class="params">(fruit :Fruit)</span></span>&#123;</span><br><span class="line">    <span class="keyword">import</span> fruit.<span class="function">_</span></span><br><span class="line"><span class="function">    <span class="title">println</span><span class="params">(name)</span></span></span><br><span class="line"><span class="function">&#125;</span></span><br></pre></td></tr></table></figure>

<h4 id="11-包对象"><a href="#11-包对象" class="headerlink" title="11.包对象"></a>11.包对象</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;包可以包含类、对象和特质，但不能包含函数或者变量的定义。很不幸，这是Java虚拟机的局限。<br>&nbsp;&nbsp;&nbsp;&nbsp;把工具函数或者常量添加到包而不是某个Utils对象，这是更加合理的做法。Scala中，包对象的出现正是为了解决这个局限。<br>&nbsp;&nbsp;&nbsp;&nbsp;<strong>Scala中的包对象：常量，变量，方法，类，对象，trait(特质)</strong></p>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LTgxYjAxMjBmNjI0Y2Q0ZTgucG5n?x-oss-process=image/format,png"></p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Scala/" rel="tag">Scala</a></li></ul>

    </footer>
  </div>

    
 
    
</article>

    
    <article
  id="post-Scala-语言基础"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/03/05/Scala-%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/"
    >Scala语言基础</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2020/03/05/Scala-%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/" class="article-date">
  <time datetime="2020-03-05T08:50:00.000Z" itemprop="datePublished">2020-03-05</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/Scala/">Scala</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h4 id="1、Scala简介"><a href="#1、Scala简介" class="headerlink" title="1、Scala简介"></a>1、Scala简介</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;Scala是一种多范式的编程语言，其设计的初衷是要集成面向对象编程和函数式编程的各种特性。Scala运行于Java平台（Java虚拟机），并兼容现有的Java程序。它也能运行于CLDC配置的Java ME中。目前还有另一.NET平台的实现，不过该版本更新有些滞后。Scala的编译模型（独立编译，动态类加载）与Java和C#一样，所以Scala代码可以调用Java类库（对于.NET实现则可调用.NET类库）。Scala包括编译器和类库，以及BSD许可证发布。</p>
<h4 id="2、Scala的常用数据类型"><a href="#2、Scala的常用数据类型" class="headerlink" title="2、Scala的常用数据类型"></a>2、Scala的常用数据类型</h4><p>注意：在Scala中，任何数据都是对象。</p>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LTMxODU0MzFjOTg4MTZmOWQucG5n?x-oss-process=image/format,png" alt="任何数据都是对象"></p>
<h5 id="1-数值类型：Byte，Short，Int，Long，Float，Double"><a href="#1-数值类型：Byte，Short，Int，Long，Float，Double" class="headerlink" title="(1)数值类型：Byte，Short，Int，Long，Float，Double"></a>(1)数值类型：Byte，Short，Int，Long，Float，Double</h5><ul>
<li>Byte:  8位有符号数字，从-128 到 127</li>
<li>Short: 16位有符号数据，从-32768 到 32767</li>
<li>Int：  32位有符号数据</li>
<li>Long： 64位有符号数据</li>
</ul>
<p>例如：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">scala&gt;</span><span class="bash"> val a:Byte = 10</span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">scala&gt;</span><span class="bash"> a+10</span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">scala&gt;</span><span class="bash"> val b:Short = 20</span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">scala&gt;</span><span class="bash"> a+b</span></span><br></pre></td></tr></table></figure>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LTU4NzQ4OGE4NDY0Yjg2ODIucG5n?x-oss-process=image/format,png"></p>
<p><strong>注意：在Scala中，定义变量可以不指定类型，因为Scala会进行类型的自动推导。</strong></p>
<h5 id="2-字符类型和字符串类型：Char和String"><a href="#2-字符类型和字符串类型：Char和String" class="headerlink" title="(2)字符类型和字符串类型：Char和String"></a>(2)字符类型和字符串类型：Char和String</h5><p>对于字符串，在Scala中可以进行插值操作。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">scala&gt;</span><span class="bash"> val s1=<span class="string">&quot;Hello Movle&quot;</span></span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">scala&gt;</span><span class="bash"> <span class="string">&quot;My Name is <span class="variable">$&#123;s1&#125;</span>&quot;</span></span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">scala&gt;</span><span class="bash"> s<span class="string">&quot;My Name is <span class="variable">$&#123;s1&#125;</span>&quot;</span></span></span><br></pre></td></tr></table></figure>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LWEwN2YzY2NlOGRmY2MzM2IucG5n?x-oss-process=image/format,png"></p>
<p><strong>注意：前面有个s；相当于执行：”My Name is “ + s1</strong></p>
<h5 id="3-Unit类型：相当于Java中的void类型"><a href="#3-Unit类型：相当于Java中的void类型" class="headerlink" title="(3)Unit类型：相当于Java中的void类型"></a>(3)Unit类型：相当于Java中的void类型</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">scala&gt;</span><span class="bash"> val f = ()</span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">scala&gt;</span><span class="bash">val f = &#123;&#125;</span></span><br></pre></td></tr></table></figure>

<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LTU5MmVmOGNkZWM5NzgxZDQucG5n?x-oss-process=image/format,png"></p>
<h5 id="4-Nothing类型：一般表示在执行过程中，产生了Exception"><a href="#4-Nothing类型：一般表示在执行过程中，产生了Exception" class="headerlink" title="(4)Nothing类型：一般表示在执行过程中，产生了Exception"></a>(4)Nothing类型：一般表示在执行过程中，产生了Exception</h5><p>例如，我们定义一个函数如下：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">def myfunction = throw new Exception(&quot;a lot error&quot;)</span><br></pre></td></tr></table></figure>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LTZlMjJkYzFmYzk5YTk1NzQucG5n?x-oss-process=image/format,png"></p>
<h4 id="3-Scala变量的申明和使用"><a href="#3-Scala变量的申明和使用" class="headerlink" title="3.Scala变量的申明和使用"></a>3.Scala变量的申明和使用</h4><h5 id="1-使用val和var申明变量"><a href="#1-使用val和var申明变量" class="headerlink" title="(1)使用val和var申明变量"></a>(1)使用val和var申明变量</h5><p>例如：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">scala&gt;</span><span class="bash"> val answer = 8 * 3 + 2</span></span><br></pre></td></tr></table></figure>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LWNiOGYzNDQ2NmMyZjllODkucG5n?x-oss-process=image/format,png"></p>
<p>可以在后续表达式中使用这些名称</p>
<h5 id="2-val：定义的值实际是一个常量-var-申明其值是可变的变量"><a href="#2-val：定义的值实际是一个常量-var-申明其值是可变的变量" class="headerlink" title="(2)val：定义的值实际是一个常量,var:申明其值是可变的变量"></a>(2)val：定义的值实际是一个常量,var:申明其值是可变的变量</h5><p><strong>注意：可以不用显式指定变量的类型，Scala会进行自动的类型推导</strong></p>
<h4 id="4-Scala的函数和方法的使用"><a href="#4-Scala的函数和方法的使用" class="headerlink" title="4. Scala的函数和方法的使用"></a>4. Scala的函数和方法的使用</h4><h5 id="1-可以使用Scala的预定义函数"><a href="#1-可以使用Scala的预定义函数" class="headerlink" title="(1)可以使用Scala的预定义函数"></a>(1)可以使用Scala的预定义函数</h5><p>例如：求两个值的最大值</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">scala&gt;</span><span class="bash"> import scala.math._</span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">scala&gt;</span><span class="bash"> max(1,2)</span></span><br></pre></td></tr></table></figure>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LWUxZWI2ODRkNzZiNDBiYmQucG5n?x-oss-process=image/format,png"></p>
<h5 id="2-也可以使用def关键字自定义函数"><a href="#2-也可以使用def关键字自定义函数" class="headerlink" title="(2)也可以使用def关键字自定义函数"></a>(2)也可以使用def关键字自定义函数</h5><p>语法：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">def 函数名称(参数列表:参数类型):返回类型=&#123;</span><br><span class="line">        //函数体</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>示例1：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// 求两个数字的和</span><br><span class="line">def sum(x:Int, y:Int):Int= x+y</span><br><span class="line"></span><br><span class="line">sum(1,2)</span><br></pre></td></tr></table></figure>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LWU5MjkzNmY4ZmJlMTI3ZGYucG5n?x-oss-process=image/format,png" alt="示例1"></p>
<p>示例2:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">//求某个数字的阶乘</span><br><span class="line">def myFactor(x:Int):Int=&#123;</span><br><span class="line">  if(x&lt;1)</span><br><span class="line">    1</span><br><span class="line">  else</span><br><span class="line">    x*myFactor(x-1)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">myFactor(5)</span><br></pre></td></tr></table></figure>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LWU1NGQxNGUyMjQ1ZjZkNTYucG5n?x-oss-process=image/format,png" alt="示例2"></p>
<h4 id="5-Scala的条件表达式"><a href="#5-Scala的条件表达式" class="headerlink" title="5.Scala的条件表达式"></a>5.Scala的条件表达式</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;Scala的if/else语法结构和Java或C++一样。<br>&nbsp;&nbsp;&nbsp;&nbsp;不过，在Scala中，if/else是表达式，有值，这个值就是跟在if或else之后的表达式的值。</p>
<h4 id="6-Scala的循环"><a href="#6-Scala的循环" class="headerlink" title="6.Scala的循环"></a>6.Scala的循环</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;Scala拥有与Java和C++相同的while和do循环<br>&nbsp;&nbsp;&nbsp;&nbsp;Scala中，可以使用for和foreach进行迭代</p>
<h5 id="1-for的四种写法："><a href="#1-for的四种写法：" class="headerlink" title="(1)for的四种写法："></a>(1)for的四种写法：</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> list = List(<span class="string">&quot;LiMing&quot;</span>,<span class="string">&quot;May&quot;</span>,<span class="string">&quot;Mike&quot;</span>)</span><br><span class="line"></span><br><span class="line">println(<span class="string">&quot;for循环的第一种写法&quot;</span>)</span><br><span class="line"><span class="keyword">for</span>(s&lt;-list) println(s)</span><br><span class="line"></span><br><span class="line">println(<span class="string">&quot;for循环的第二种写法&quot;</span>)</span><br><span class="line"><span class="keyword">for</span>&#123;</span><br><span class="line">  s &lt;-<span class="function">list</span></span><br><span class="line"><span class="function">  <span class="title">if</span><span class="params">(s.length &gt;<span class="number">3</span>)</span></span></span><br><span class="line"><span class="function">&#125;<span class="title">println</span><span class="params">(s)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="title">println</span><span class="params">(<span class="string">&quot;for循环的第三种写法&quot;</span>)</span></span></span><br><span class="line"><span class="function"><span class="title">for</span><span class="params">(s &lt;- list <span class="keyword">if</span> s.length &lt; <span class="number">3</span>)</span> <span class="title">println</span><span class="params">(s)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="title">println</span><span class="params">(<span class="string">&quot;for循环的第四种写法&quot;</span>)</span></span></span><br><span class="line"><span class="function"><span class="keyword">var</span> newList </span>= <span class="keyword">for</span>&#123;</span><br><span class="line">  s &lt;- list</span><br><span class="line">  s1=s.toUpperCase()</span><br><span class="line">&#125;yield(s1)</span><br><span class="line"><span class="keyword">for</span>(s1&lt;-newList) println(s1)</span><br></pre></td></tr></table></figure>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LWJhZTk4ZTNkNTlhMjhhNmMucG5n?x-oss-process=image/format,png" alt="结果"></p>
<p>注意：</p>
<ul>
<li> &lt;-  表示Scala中的generator，即：提取符</li>
<li>第三种写法是第二种写法的简写</li>
<li>在for循环中，还可以使用yield关键字来产生一个新的集合，for循环的第四种写法</li>
</ul>
<p>在上面的案例，for循环的第四种写法中，将list集合中的每个元素转换成了大写，并且使用yield关键字生成了一个新的集合。</p>
<h5 id="2-使用while循环：注意使用小括号，不是中括号"><a href="#2-使用while循环：注意使用小括号，不是中括号" class="headerlink" title="(2)使用while循环：注意使用小括号，不是中括号"></a>(2)使用while循环：注意使用小括号，不是中括号</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> list = List(<span class="string">&quot;LiMing&quot;</span>,<span class="string">&quot;May&quot;</span>,<span class="string">&quot;Mike&quot;</span>)</span><br><span class="line"></span><br><span class="line">println(<span class="string">&quot;******while循环******&quot;</span>)</span><br><span class="line"><span class="keyword">var</span> i=<span class="number">0</span></span><br><span class="line">println(<span class="string">&quot;while循环&quot;</span>)</span><br><span class="line"><span class="keyword">while</span>(i&lt;list.length)&#123;</span><br><span class="line">  println(list(i))</span><br><span class="line">  i+=<span class="number">1</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="3-使用do-…-while循环"><a href="#3-使用do-…-while循环" class="headerlink" title="(3)使用do … while循环"></a>(3)使用do … while循环</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">println(<span class="string">&quot;******dowhile循环******&quot;</span>)</span><br><span class="line"><span class="keyword">var</span> j=<span class="number">0</span></span><br><span class="line"><span class="keyword">do</span>&#123;</span><br><span class="line">  println(list(i))</span><br><span class="line">  j+=<span class="number">1</span></span><br><span class="line">&#125;<span class="keyword">while</span>(j&lt;list.length)</span><br></pre></td></tr></table></figure>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LWY5ZTVkODViZDg5YzY5YWQucG5n?x-oss-process=image/format,png" alt="while循环与do while循环"></p>
<h5 id="4-使用foreach进行迭代"><a href="#4-使用foreach进行迭代" class="headerlink" title="(4)使用foreach进行迭代"></a>(4)使用foreach进行迭代</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">val list = List(<span class="string">&quot;LiMing&quot;</span>,<span class="string">&quot;XiaoHong&quot;</span>,<span class="string">&quot;PengPeng&quot;</span>)</span><br><span class="line"></span><br><span class="line">list.foreach(println)   <span class="comment">//相当于for(s&lt;-list) println(s )</span></span><br></pre></td></tr></table></figure>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LTQwNTFjMzhmMTdjM2Q5MmQucG5n?x-oss-process=image/format,png" alt="foreach"><br>注意：在上面的例子中，foreach接收了另一个函数(println)作为值<br>还有一个循环map</p>
<p>foreach和map的区别：</p>
<ul>
<li>foreach没有返回值</li>
<li>map有返回值</li>
</ul>
<h4 id="7-Scala函数的参数"><a href="#7-Scala函数的参数" class="headerlink" title="7.Scala函数的参数"></a>7.Scala函数的参数</h4><h5 id="1-Scala中，有两种函数参数的求值策略"><a href="#1-Scala中，有两种函数参数的求值策略" class="headerlink" title="(1)Scala中，有两种函数参数的求值策略"></a>(1)Scala中，有两种函数参数的求值策略</h5><ul>
<li>Call By Value：对函数实参求值，且仅求一次</li>
<li>Call By Name：函数实参每次在函数体内被用到时都会求值  所用符号：=&gt;</li>
</ul>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LTY5YTc1MDdmODQ0ZTIyMjkucG5n?x-oss-process=image/format,png"><br>执行过程对比</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">test1  --&gt;	test1(3+4,8)	--&gt;	test1(7,8)	--&gt;	7+7	--&gt;	14</span><br><span class="line">		</span><br><span class="line">test2  --&gt;	test2(3+4,8)	--&gt;	(3+4)+(3+4)	--&gt;	7+7	--&gt;	14</span><br></pre></td></tr></table></figure>

<p><strong>举例</strong><br>定义bar函数，其中x 是 call by value , y 是 call by name</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">def bar(x:Int,y: =&gt; Int) : Int = 1</span><br></pre></td></tr></table></figure>
<p>定义一个死循环函数</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">def loop() : Int = loop</span><br></pre></td></tr></table></figure>
<p>调用 bar 函数：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">bar(1,loop)    //第一种</span><br><span class="line"></span><br><span class="line">bar(loop,1)    //第二种</span><br></pre></td></tr></table></figure>
<p>哪种方式会产生死循环？<br>答案是：第二种方式<br>解析：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">y 每次在函数中用到时，才会被求值，bar函数没有用到y，所以不会调用loop。</span><br><span class="line">x call by value ，对函数参数求值，并且只求一次，所以会产生死循环。</span><br></pre></td></tr></table></figure>

<h5 id="2-Scala中的函数参数的类型"><a href="#2-Scala中的函数参数的类型" class="headerlink" title="(2)Scala中的函数参数的类型"></a>(2)Scala中的函数参数的类型</h5><ul>
<li>默认参数：当你没有给参数赋值的时候，就使用默认值。</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">//默认参数</span><br><span class="line">def func1(name:String=&quot;Tom&quot;):String=&quot;Hello&quot;+name</span><br><span class="line"></span><br><span class="line">func1()</span><br><span class="line"></span><br><span class="line">func1(&quot;Marry&quot;)</span><br></pre></td></tr></table></figure>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LWQxNTlhZDQ4ZDA4OTBjMDIucG5n?x-oss-process=image/format,png"></p>
<ul>
<li>代名参数：当有多个默认参数的时候，通过代名参数可以确定给哪个参数赋值。</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">//代名参数</span><br><span class="line">def func2(str:String=&quot;good morning&quot;,name:String=&quot;Tome&quot;,age:Int=20)</span><br><span class="line">=str+name+&quot;and the age of &quot;+name+&quot;is&quot;+age</span><br><span class="line"></span><br><span class="line">func2()</span><br><span class="line"></span><br><span class="line">func2(age=22)</span><br></pre></td></tr></table></figure>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LWM4NmIzNDMyZmIxOGY3NDYucG5n?x-oss-process=image/format,png"></p>
<ul>
<li>可变参数：类似于java中的可变参数，即 参数数量不固定</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">//变长参数：求多个数字的和</span><br><span class="line">def sum(args:Int*)&#123;</span><br><span class="line">  var result=0</span><br><span class="line">  for(arg&lt;-args) result+=arg</span><br><span class="line">  result</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LWVmMDBmNzU4ZjMwY2IzMDkucG5n?x-oss-process=image/format,png"></p>
<h4 id="8-Scala的Lazy值-懒值"><a href="#8-Scala的Lazy值-懒值" class="headerlink" title="8.Scala的Lazy值(懒值)"></a>8.Scala的Lazy值(懒值)</h4><p>定义：如果常量是lazy的，他的初始化会被延迟，推迟到第一次使用该常量的时候</p>
<h5 id="1-当val被申明为lazy时，它的初始化将被推迟，直到我们首次对它取值。"><a href="#1-当val被申明为lazy时，它的初始化将被推迟，直到我们首次对它取值。" class="headerlink" title="(1)当val被申明为lazy时，它的初始化将被推迟，直到我们首次对它取值。"></a>(1)当val被申明为lazy时，它的初始化将被推迟，直到我们首次对它取值。</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">val x:Int = 10</span><br><span class="line"></span><br><span class="line">lazy val y:Int=x+1</span><br><span class="line"></span><br><span class="line">y</span><br></pre></td></tr></table></figure>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LTRhY2ViZjIxMDY1MTZiNGMucG5n?x-oss-process=image/format,png"></p>
<p><strong>举例</strong>：<br>(a)读一个存在的文件</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">lazy val words = scala.io.Source.fromFile(&quot;/users/macbook/TestInfo/student.txt&quot;).mkString</span><br><span class="line"></span><br><span class="line">words</span><br></pre></td></tr></table></figure>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LWRhM2Y1ZWUzM2Q3NjU3ZjMucG5n?x-oss-process=image/format,png"></p>
<p>(b)读一个不存在的文件</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">val words = scala.io.Source.fromFile(&quot;/users/macbook/TestInfo/studen1231312312t.txt&quot;).mkString</span><br></pre></td></tr></table></figure>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LTQ2ZmUyMjg3NjQ5YzAzY2YucG5n?x-oss-process=image/format,png" alt="产生异常"></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lazy val words = scala.io.Source.fromFile(&quot;/users/macbook/TestInfo/studen1231312312t.txt&quot;).mkString</span><br></pre></td></tr></table></figure>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LWJlNTNjMmRkZTBkYmQwNTgucG5n?x-oss-process=image/format,png" alt="不会产生异常"></p>
<h4 id="9-异常的处理"><a href="#9-异常的处理" class="headerlink" title="9.异常的处理"></a>9.异常的处理</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;Scala异常的工作机制和Java或者C++一样。直接使用throw关键字抛出异常。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">throw new Exception(&quot;a lot error happened!&quot;)</span><br></pre></td></tr></table></figure>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LTcxMTJlOWMzMjA1M2M3YjYucG5n?x-oss-process=image/format,png"></p>
<h4 id="10-Scala中的数组"><a href="#10-Scala中的数组" class="headerlink" title="10.Scala中的数组"></a>10.Scala中的数组</h4><h5 id="1-Scala数组的类型："><a href="#1-Scala数组的类型：" class="headerlink" title="(1)Scala数组的类型："></a>(1)Scala数组的类型：</h5><ul>
<li>定长数组：使用关键字Array</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//定长数组</span></span><br><span class="line">val a = <span class="keyword">new</span> Array[Int](<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line">val b = <span class="keyword">new</span> Array[String](<span class="number">5</span>)</span><br><span class="line"></span><br><span class="line">val c = Array(<span class="string">&quot;Tom&quot;</span>,<span class="string">&quot;Marry&quot;</span>,<span class="string">&quot;Mike&quot;</span>)</span><br></pre></td></tr></table></figure>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LTEyMmY5YjA2ZGY1MDgyYjUucG5n?x-oss-process=image/format,png" alt="定长数组"></p>
<ul>
<li>变长数组：使用关键字ArrayBuffer</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//一定要先导包</span></span><br><span class="line"><span class="keyword">import</span> scala.collection.mutable.ArrayBuffer</span><br><span class="line">val d = ArrayBuffer[Int]()</span><br><span class="line"><span class="comment">//在变长数组种添加元素</span></span><br><span class="line">d+=<span class="number">1</span></span><br><span class="line">d+=<span class="number">2</span></span><br><span class="line">d+=<span class="number">3</span></span><br><span class="line"><span class="comment">//在变长数组中添加多个元素</span></span><br><span class="line">d+=(<span class="number">10</span>,<span class="number">12</span>,<span class="number">13</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//将ArrayBuffer转换为Array</span></span><br><span class="line">d.toArray</span><br></pre></td></tr></table></figure>

<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LTllNTdmYjVjZDNlYjBiNGIucG5n?x-oss-process=image/format,png" alt="变长数组"></p>
<h5 id="2-遍历数组"><a href="#2-遍历数组" class="headerlink" title="(2)遍历数组"></a>(2)遍历数组</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//遍历数组</span></span><br><span class="line"><span class="keyword">var</span> a =Array(<span class="string">&quot;aa&quot;</span>,<span class="string">&quot;bb&quot;</span>,<span class="string">&quot;cc&quot;</span>)</span><br><span class="line"><span class="comment">//使用for循环进行遍历</span></span><br><span class="line"><span class="keyword">for</span>(s &lt;-a) println(s)</span><br><span class="line"></span><br><span class="line"><span class="comment">//对数组进行转换，新生成一个数组yield</span></span><br><span class="line">val b = <span class="keyword">for</span>&#123;</span><br><span class="line">  s&lt;-a</span><br><span class="line">  s1=s.toUpperCase</span><br><span class="line">&#125;yield(s1)</span><br><span class="line"></span><br><span class="line"><span class="comment">//使用foreach进行循环输出</span></span><br><span class="line">a.foreach(println)</span><br></pre></td></tr></table></figure>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LWNhMzlmYjM0NjMzMDgzYTcucG5n?x-oss-process=image/format,png" alt="遍历数组"></p>
<h5 id="3-Scala数组的常用操作"><a href="#3-Scala数组的常用操作" class="headerlink" title="(3)Scala数组的常用操作"></a>(3)Scala数组的常用操作</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> scala.collection.mutable.ArrayBuffer</span><br><span class="line"></span><br><span class="line">val myArray = Array(<span class="number">1</span>,<span class="number">10</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">4</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//最大值</span></span><br><span class="line">myArray.max</span><br><span class="line"><span class="comment">//最小值</span></span><br><span class="line">myArray.min</span><br><span class="line"><span class="comment">//求和</span></span><br><span class="line">myArray.sum</span><br><span class="line"><span class="comment">//定义一个变长数组</span></span><br><span class="line"><span class="keyword">var</span> myArray1= ArrayBuffer(<span class="number">1</span>,<span class="number">10</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">4</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//排序</span></span><br><span class="line">myArray1.sortWith(_&gt;_)</span><br><span class="line"><span class="comment">//升序</span></span><br><span class="line">myArray1.sortWith(_&lt;_)</span><br></pre></td></tr></table></figure>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LTllMTM3NmZlYTc3YWYxYmIucG5n?x-oss-process=image/format,png" alt="数组的常用操作"></p>
<h5 id="4-Scala的多维数组"><a href="#4-Scala的多维数组" class="headerlink" title="(4)Scala的多维数组"></a>(4)Scala的多维数组</h5><ul>
<li>和Java一样，多维数组是通过数组的数组来实现的。</li>
<li>也可以创建不规则的数组，每一行的长度各不相同。</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//定义一个固定长度的二维数组</span></span><br><span class="line"></span><br><span class="line">val matrix = Array.ofDim[Int](<span class="number">3</span>,<span class="number">4</span>)</span><br><span class="line"></span><br><span class="line">matrix(<span class="number">1</span>)(<span class="number">2</span>)=<span class="number">10</span></span><br><span class="line"></span><br><span class="line">matrix</span><br></pre></td></tr></table></figure>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LTkyYTAzMmNjZmNjMzE0OTcucG5n?x-oss-process=image/format,png" alt="固定长度的二维数组"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//定义一个二维数组，其中每个元素是一个一维数组，其长度不固定</span></span><br><span class="line">val triangle = <span class="keyword">new</span> Array[Array[Int]](<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(i&lt;-<span class="number">0</span> until triangle.length)</span><br><span class="line">  triangle(i)=<span class="keyword">new</span> Array[Int](i+<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">triangle</span><br></pre></td></tr></table></figure>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LWExNTk4ZTk1M2YzNzBjNzAucG5n?x-oss-process=image/format,png" alt="长度不固定的二维数组"></p>
<h4 id="11-映射"><a href="#11-映射" class="headerlink" title="11.映射"></a>11.映射</h4><h5 id="1-映射就是Map集合，由一个-key-value-组成。"><a href="#1-映射就是Map集合，由一个-key-value-组成。" class="headerlink" title="(1).映射就是Map集合，由一个(key,value)组成。"></a>(1).映射就是Map集合，由一个(key,value)组成。</h5><p>-&gt; 操作符用来创建</p>
<p>例如：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">val scores = Map(<span class="string">&quot;Alice&quot;</span> -&gt; <span class="number">10</span>,<span class="string">&quot;Bob&quot;</span> -&gt; <span class="number">3</span>,<span class="string">&quot;Cindy&quot;</span> -&gt; <span class="number">8</span>)</span><br></pre></td></tr></table></figure>

<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LTkwNzA4MGI3MDUxMzQ3ZjkucG5n?x-oss-process=image/format,png"></p>
<h5 id="2-映射的类型分为：不可变Map和可变Map"><a href="#2-映射的类型分为：不可变Map和可变Map" class="headerlink" title="(2)映射的类型分为：不可变Map和可变Map"></a>(2)映射的类型分为：不可变Map和可变Map</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//不可变的Map</span></span><br><span class="line">val math = scala.collection.immutable.Map(<span class="string">&quot;Alice&quot;</span>-&gt;<span class="number">80</span>,<span class="string">&quot;Bob&quot;</span>-&gt;<span class="number">95</span>,<span class="string">&quot;Mary&quot;</span>-&gt;<span class="number">70</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//可变的Map</span></span><br><span class="line">val english = scala.collection.mutable.Map(<span class="string">&quot;Alice&quot;</span>-&gt;<span class="number">80</span>,<span class="string">&quot;Bob&quot;</span>-&gt;<span class="number">95</span>,<span class="string">&quot;Mary&quot;</span>-&gt;<span class="number">70</span>)</span><br><span class="line"></span><br><span class="line">val chinese = scala.collection.mutable.Map((<span class="string">&quot;Alice&quot;</span>,<span class="number">80</span>),(<span class="string">&quot;Bob&quot;</span>,<span class="number">95</span>),(<span class="string">&quot;Mary&quot;</span>,<span class="number">70</span>))</span><br></pre></td></tr></table></figure>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LWU1YmZmODFjMDNkMmEwMjQucG5n?x-oss-process=image/format,png" alt="不可不map和可变map"></p>
<h5 id="3-映射的操作"><a href="#3-映射的操作" class="headerlink" title="(3)映射的操作"></a>(3)映射的操作</h5><ul>
<li>获取映射中的值</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//获取Map中的值</span></span><br><span class="line">chinese(<span class="string">&quot;Bob&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//需要判定是否存在才能够获得该映射的值</span></span><br><span class="line"><span class="keyword">if</span>(chinese.contains(<span class="string">&quot;Alice&quot;</span>))&#123;</span><br><span class="line">  chinese(<span class="string">&quot;Alice&quot;</span>)</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">  -<span class="number">1</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LWFiNzE4YjllNzUwNGU3YzAucG5n?x-oss-process=image/format,png" alt="获取映射中的值"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">chineses.getOrElse(<span class="string">&quot;To123123m&quot;</span>,-<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">chineses.get(<span class="string">&quot;dlfsjldkfjlsk&quot;</span>)</span><br><span class="line"></span><br><span class="line">chineses.get(<span class="string">&quot;Tom&quot;</span>)</span><br></pre></td></tr></table></figure>
<p>使用get方法不会报错</p>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LTVlNzJiZTQyNjg1ZDdiMDYucG5n?x-oss-process=image/format,png"></p>
<ul>
<li>更新映射中的值（必须是可变Map）</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//更新Map中的值</span></span><br><span class="line">chinese(<span class="string">&quot;Bob&quot;</span>)=<span class="number">100</span></span><br><span class="line"></span><br><span class="line">chinese</span><br><span class="line"></span><br><span class="line"><span class="comment">//往Map中添加新的元素</span></span><br><span class="line">chinese +=<span class="string">&quot;Tom&quot;</span>-&gt;<span class="number">85</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//移除Map中的元素</span></span><br><span class="line">chinese -=<span class="string">&quot;Bob&quot;</span></span><br></pre></td></tr></table></figure>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LWU1NjBhNDcwOTc5ZTAzMTcucG5n?x-oss-process=image/format,png" alt="更新映射中的值"></p>
<ul>
<li>迭代映射</li>
</ul>
<p>可以使用 for foreach</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//迭代Map:使用for或者foreach</span></span><br><span class="line"><span class="keyword">for</span>(s &lt;-chinese) println(s)</span><br><span class="line"></span><br><span class="line">chinese.foreach(println)</span><br></pre></td></tr></table></figure>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LTVlZTk0ZDIzMDM3MTFkODQucG5n?x-oss-process=image/format,png" alt="迭代映射"></p>
<h4 id="12-元组（Tuple）"><a href="#12-元组（Tuple）" class="headerlink" title="12.元组（Tuple）"></a>12.元组（Tuple）</h4><h5 id="1-元组是不同类型的值的聚集。"><a href="#1-元组是不同类型的值的聚集。" class="headerlink" title="(1)元组是不同类型的值的聚集。"></a>(1)元组是不同类型的值的聚集。</h5><p>例如：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">val t = (<span class="number">1</span>, <span class="number">3.14</span>, <span class="string">&quot;Fred&quot;</span>) <span class="comment">// 类型为Tuple3[Int, Double, java.lang.String]</span></span><br></pre></td></tr></table></figure>
<p>这里：Tuple是类型，3是表示元组中有三个元素。</p>
<h5 id="2-Tuple的声明："><a href="#2-Tuple的声明：" class="headerlink" title="(2)Tuple的声明："></a>(2)Tuple的声明：</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">val t1 = Tuple3(<span class="number">1</span>,<span class="number">0.3</span>,<span class="string">&quot;Hello&quot;</span>)</span><br></pre></td></tr></table></figure>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LTQ3OTY2MmQ3NThkMGJmOWYucG5n?x-oss-process=image/format,png"></p>
<h5 id="3-元组的访问和遍历："><a href="#3-元组的访问和遍历：" class="headerlink" title="(3)元组的访问和遍历："></a>(3)元组的访问和遍历：</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//定义tuple</span></span><br><span class="line">val t1 = (<span class="number">1</span>,<span class="number">2</span>,<span class="string">&quot;Tom&quot;</span>)</span><br><span class="line"></span><br><span class="line">val t2 = <span class="keyword">new</span> Tuple4(<span class="string">&quot;Marry&quot;</span>,<span class="number">3.14</span>,<span class="number">100</span>,<span class="string">&quot;Hello&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//访问tuple中的组员</span></span><br><span class="line">t2._1</span><br><span class="line">t2._2</span><br><span class="line">t2._3</span><br><span class="line">t2._4</span><br><span class="line"></span><br><span class="line"><span class="comment">//遍历Tuple：foreach</span></span><br><span class="line">t2.productIterator.foreach(println)</span><br></pre></td></tr></table></figure>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LWU3MzZmNWQ1ZjExMDIwOTgucG5n?x-oss-process=image/format,png" alt="元组"></p>
<p>遍历Tuple中的元素<br>注意：Tuple中没有提供foreach函数，我们需要使用 productIterator</p>
<p>遍历分成2个步骤：</p>
<ul>
<li>使用productIterator 生成迭代器</li>
<li>遍历</li>
</ul>
<p><strong>注意：要遍历Tuple中的元素，需要首先生成对应的迭代器。不能直接使用for或者foreach</strong></p>
<h4 id="13-Scala中的文件操作"><a href="#13-Scala中的文件操作" class="headerlink" title="13.Scala中的文件操作"></a>13.Scala中的文件操作</h4><p>类似于java中的io操作<br>举例：</p>
<h5 id="1-读取文件"><a href="#1-读取文件" class="headerlink" title="(1)读取文件"></a>(1)读取文件</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">def <span class="title">main</span><span class="params">(args: Array[String])</span>: Unit </span>= &#123;</span><br><span class="line">    <span class="comment">//读取行</span></span><br><span class="line">    val source = fromFile(<span class="string">&quot;/users/macbook/TestInfo/student.txt&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 1、将整个文件作为字符串输出</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    println(<span class="string">&quot;--------mkString---------&quot;</span>)</span><br><span class="line">    println(source.mkString)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LTQ0MTE4MDM1ZDBhMmQ0YzMucG5n?x-oss-process=image/format,png"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">def <span class="title">main</span><span class="params">(args: Array[String])</span>: Unit </span>= &#123;</span><br><span class="line">    <span class="comment">//读取行</span></span><br><span class="line">    val source = fromFile(<span class="string">&quot;/users/macbook/TestInfo/student.txt&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 2、将文件的每一行读入 java BufferedReader readLine方法类似</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    println(<span class="string">&quot;--------lines---------&quot;</span>)</span><br><span class="line">    val lines = source.getLines()</span><br><span class="line">    lines.foreach(println)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LWU2M2MzZjM1ZmQxYTkwMTUucG5n?x-oss-process=image/format,png"></p>
<h5 id="2-读取二进制文件"><a href="#2-读取二进制文件" class="headerlink" title="(2)读取二进制文件"></a>(2)读取二进制文件</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">def <span class="title">main</span><span class="params">(args: Array[String])</span>: Unit </span>= &#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 读取二进制文件：</span></span><br><span class="line"><span class="comment">     * scala中并不支持直接读取二进制</span></span><br><span class="line"><span class="comment">     * 可以通过调用java的InputStream来进行读入</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    println(<span class="string">&quot;--------Read Bytes---------&quot;</span>)</span><br><span class="line">    <span class="keyword">var</span> file = <span class="keyword">new</span> File(<span class="string">&quot;/users/macbook/TestInfo/hudson.war&quot;</span>)</span><br><span class="line">    <span class="comment">//构建一个inputstream</span></span><br><span class="line">    <span class="keyword">var</span> in = <span class="keyword">new</span> FileInputStream(file)</span><br><span class="line">    <span class="comment">//构造buffer</span></span><br><span class="line">    <span class="keyword">var</span> buffer = <span class="keyword">new</span> Array[Byte](file.length().toInt)</span><br><span class="line">    <span class="comment">//读取</span></span><br><span class="line">    in.read(buffer)</span><br><span class="line">    println(buffer.length)</span><br><span class="line">    <span class="comment">//关闭</span></span><br><span class="line">    in.close()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LWFjYzNkYzlkNjViYmQzMTUucG5n?x-oss-process=image/format,png"></p>
<h5 id="3-从url中获取信息"><a href="#3-从url中获取信息" class="headerlink" title="(3)从url中获取信息"></a>(3)从url中获取信息</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">def <span class="title">main</span><span class="params">(args: Array[String])</span>: Unit </span>= &#123;</span><br><span class="line">   println(<span class="string">&quot;--------fromURL---------&quot;</span>)</span><br><span class="line">        <span class="keyword">var</span> source2 = fromURL(<span class="string">&quot;https://www.baidu.com&quot;</span>,<span class="string">&quot;UTF-8&quot;</span>)</span><br><span class="line">        println(source2.mkString)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LTkwMDc3ODQ2NDFjMmViZjQucG5n?x-oss-process=image/format,png"></p>
<h5 id="4-写入文件"><a href="#4-写入文件" class="headerlink" title="(4)写入文件"></a>(4)写入文件</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">def <span class="title">main</span><span class="params">(args: Array[String])</span>: Unit </span>= &#123;</span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 写入文件</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    println(<span class="string">&quot;--------Write File---------&quot;</span>)</span><br><span class="line">    <span class="keyword">var</span> out = <span class="keyword">new</span> PrintWriter(<span class="string">&quot;/users/macbook/TestInfo/insert_0601.txt&quot;</span>)</span><br><span class="line">    <span class="keyword">for</span> (i &lt;- <span class="number">0</span> until <span class="number">10</span>) out.println(i)</span><br><span class="line">    out.close()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy80MzkxNDA3LWNiNDhjZmU2ZmY0NDc4NTkucG5n?x-oss-process=image/format,png"></p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Scala/" rel="tag">Scala</a></li></ul>

    </footer>
  </div>

    
 
    
</article>

    
    <article
  id="post-CentOS7 安装NodeJS-使用二进制文件安装"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/02/15/CentOS7%20%E5%AE%89%E8%A3%85NodeJS-%E4%BD%BF%E7%94%A8%E4%BA%8C%E8%BF%9B%E5%88%B6%E6%96%87%E4%BB%B6%E5%AE%89%E8%A3%85/"
    >CentOS7 安装NodeJS-使用二进制文件安装</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2020/02/15/CentOS7%20%E5%AE%89%E8%A3%85NodeJS-%E4%BD%BF%E7%94%A8%E4%BA%8C%E8%BF%9B%E5%88%B6%E6%96%87%E4%BB%B6%E5%AE%89%E8%A3%85/" class="article-date">
  <time datetime="2020-02-15T06:37:00.000Z" itemprop="datePublished">2020-02-15</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/Linux/">Linux</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h6 id="1-下载安装包"><a href="#1-下载安装包" class="headerlink" title="1.下载安装包"></a>1.下载安装包</h6><p><a target="_blank" rel="noopener" href="https://nodejs.org/en/download/">下载地址</a></p>
<h6 id="2-解压文件"><a href="#2-解压文件" class="headerlink" title="2.解压文件"></a>2.解压文件</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar xvf node-v12.19.0-linux-x64.tar.xz -C /opt/module/</span><br></pre></td></tr></table></figure>

<h6 id="3-创建软连接"><a href="#3-创建软连接" class="headerlink" title="3.创建软连接"></a>3.创建软连接</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ln -s /opt/module/node-v12.19.0-linux-x64/bin/node /usr/local/bin/node</span><br><span class="line"></span><br><span class="line">ln -s /opt/module/node-v12.19.0-linux-x64/bin/npm /usr/local/bin/npm</span><br></pre></td></tr></table></figure>
<h6 id="4-查看版本"><a href="#4-查看版本" class="headerlink" title="4.查看版本"></a>4.查看版本</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">node -v</span><br><span class="line"></span><br><span class="line">npm -v</span><br></pre></td></tr></table></figure> 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/CentOS/" rel="tag">CentOS</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/NodeJS/" rel="tag">NodeJS</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2/" rel="tag">安装部署</a></li></ul>

    </footer>
  </div>

    
 
    
</article>

    
    <article
  id="post-CentOS7 安装Maven"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/02/15/CentOS7%20%E5%AE%89%E8%A3%85Maven/"
    >CentOS7安装Maven</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2020/02/15/CentOS7%20%E5%AE%89%E8%A3%85Maven/" class="article-date">
  <time datetime="2020-02-15T05:35:00.000Z" itemprop="datePublished">2020-02-15</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/Linux/">Linux</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h6 id="1-下载Maven安装包"><a href="#1-下载Maven安装包" class="headerlink" title="1.下载Maven安装包"></a>1.下载Maven安装包</h6><p><a target="_blank" rel="noopener" href="https://maven.apache.org/download.cgi">Maven下载地址</a></p>
<h6 id="2-解压"><a href="#2-解压" class="headerlink" title="2.解压"></a>2.解压</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar -zxvf apache-maven-3.6.3-bin.tar.gz -C /opt/module/</span><br></pre></td></tr></table></figure>

<p><img src="https://upload-images.jianshu.io/upload_images/4391407-1f35788eb317223f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="解压"></p>
<h6 id="3-改名"><a href="#3-改名" class="headerlink" title="3.改名"></a>3.改名</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mv apache-maven-3.6.3/ maven</span><br></pre></td></tr></table></figure>

<p><img src="https://upload-images.jianshu.io/upload_images/4391407-afd58278c5895903.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"></p>
<h6 id="4-配置环境变量"><a href="#4-配置环境变量" class="headerlink" title="4.配置环境变量"></a>4.配置环境变量</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/profile</span><br></pre></td></tr></table></figure>
<p>修改内容</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">export M2_HOME=/opt/module/maven</span><br><span class="line">export PATH=$PATH:$JAVA_HOME/bin:$M2_HOME/bin</span><br></pre></td></tr></table></figure>
<p>使环境变量生效</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">source /etc/profile</span><br></pre></td></tr></table></figure>
<h6 id="5-验证"><a href="#5-验证" class="headerlink" title="5.验证"></a>5.验证</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mvn -v</span><br></pre></td></tr></table></figure>

<p><img src="https://upload-images.jianshu.io/upload_images/4391407-4c4278066ed95905.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="验证"></p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/CentOS/" rel="tag">CentOS</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Maven/" rel="tag">Maven</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2/" rel="tag">安装部署</a></li></ul>

    </footer>
  </div>

    
 
    
</article>

    
  </article>
  

  
  <nav class="page-nav">
    
    <a class="extend prev" rel="prev" href="/page/9/">上一页</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/8/">8</a><a class="page-number" href="/page/9/">9</a><span class="page-number current">10</span><a class="page-number" href="/page/11/">11</a><a class="page-number" href="/page/12/">12</a><span class="space">&hellip;</span><a class="page-number" href="/page/28/">28</a><a class="extend next" rel="next" href="/page/11/">下一页</a>
  </nav>
  
</section>
</div>

      <footer class="footer">
  <div class="outer">
    <ul>
      <li>
        Copyrights &copy;
        2015-2021
        <i class="ri-heart-fill heart_icon"></i> Movle
      </li>
    </ul>
    <ul>
      <li>
        
      </li>
    </ul>
    <ul>
      <li>
        
        
        <span>
  <span><i class="ri-user-3-fill"></i>访问人数:<span id="busuanzi_value_site_uv"></span></span>
  <span class="division">|</span>
  <span><i class="ri-eye-fill"></i>浏览次数:<span id="busuanzi_value_page_pv"></span></span>
</span>
        
      </li>
    </ul>
    <ul>
      
    </ul>
    <ul>
      
    </ul>
    <ul>
      <li>
        <!-- cnzz统计 -->
        
        <script type="text/javascript" src='https://s9.cnzz.com/z_stat.php?id=1278069914&amp;web_id=1278069914'></script>
        
      </li>
    </ul>
  </div>
</footer>    
    </main>
    <div class="float_btns">
      <div class="totop" id="totop">
  <i class="ri-arrow-up-line"></i>
</div>

<div class="todark" id="todark">
  <i class="ri-moon-line"></i>
</div>

    </div>
    <aside class="sidebar on">
      <button class="navbar-toggle"></button>
<nav class="navbar">
  
  <div class="logo">
    <a href="/"><img src="https://img-blog.csdnimg.cn/20200609161448519.jpg" alt="Movle"></a>
  </div>
  
  <ul class="nav nav-main">
    
    <li class="nav-item">
      <a class="nav-item-link" href="/">主页</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/archives">归档</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/categories">分类</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/tags">标签</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/about">关于我</a>
    </li>
    
  </ul>
</nav>
<nav class="navbar navbar-bottom">
  <ul class="nav">
    <li class="nav-item">
      
      <a class="nav-item-link nav-item-search"  title="搜索">
        <i class="ri-search-line"></i>
      </a>
      
      
      <a class="nav-item-link" target="_blank" href="/atom.xml" title="RSS Feed">
        <i class="ri-rss-line"></i>
      </a>
      
    </li>
  </ul>
</nav>
<div class="search-form-wrap">
  <div class="local-search local-search-plugin">
  <input type="search" id="local-search-input" class="local-search-input" placeholder="Search...">
  <div id="local-search-result" class="local-search-result"></div>
</div>
</div>
    </aside>
    <div id="mask"></div>

<!-- #reward -->
<div id="reward">
  <span class="close"><i class="ri-close-line"></i></span>
  <p class="reward-p"><i class="ri-cup-line"></i>请我喝杯咖啡吧~</p>
  <div class="reward-box">
    
    <div class="reward-item">
      <img class="reward-img" src="https://cdn.jsdelivr.net/gh/Shen-Yu/cdn/img/alipay.jpg">
      <span class="reward-type">支付宝</span>
    </div>
    
    
    <div class="reward-item">
      <img class="reward-img" src="https://cdn.jsdelivr.net/gh/Shen-Yu/cdn/img/wechat.jpg">
      <span class="reward-type">微信</span>
    </div>
    
  </div>
</div>
    
<script src="/js/jquery-3.6.0.min.js"></script>
 
<script src="/js/lazyload.min.js"></script>

<!-- Tocbot -->

<script src="https://cdn.jsdelivr.net/npm/jquery-modal@0.9.2/jquery.modal.min.js"></script>
<link
  rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/jquery-modal@0.9.2/jquery.modal.min.css"
/>
<script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js"></script>

<script src="/dist/main.js"></script>

<!-- ImageViewer -->
 <!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" style="display:none" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css">
<script src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"></script>

<script>
    function viewer_init() {
        let pswpElement = document.querySelectorAll('.pswp')[0];
        let $imgArr = document.querySelectorAll(('.article-entry img:not(.reward-img)'))

        $imgArr.forEach(($em, i) => {
            $em.onclick = () => {
                // slider展开状态
                // todo: 这样不好，后面改成状态
                if (document.querySelector('.left-col.show')) return
                let items = []
                $imgArr.forEach(($em2, i2) => {
                    let img = $em2.getAttribute('data-idx', i2)
                    let src = $em2.getAttribute('data-target') || $em2.getAttribute('src')
                    let title = $em2.getAttribute('alt')
                    // 获得原图尺寸
                    const image = new Image()
                    image.src = src
                    items.push({
                        src: src,
                        w: image.width || $em2.width,
                        h: image.height || $em2.height,
                        title: title
                    })
                })
                var gallery = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, items, {
                    index: parseInt(i)
                });
                gallery.init()
            }
        })
    }
    viewer_init()
</script> 
<!-- MathJax -->

<!-- Katex -->

<!-- busuanzi  -->
 
<script src="/js/busuanzi-2.3.pure.min.js"></script>
 
<!-- ClickLove -->

<!-- ClickBoom1 -->

<!-- ClickBoom2 -->

<!-- CodeCopy -->
 
<link rel="stylesheet" href="/css/clipboard.css">
 <script src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js"></script>
<script>
  function wait(callback, seconds) {
    var timelag = null;
    timelag = window.setTimeout(callback, seconds);
  }
  !function (e, t, a) {
    var initCopyCode = function(){
      var copyHtml = '';
      copyHtml += '<button class="btn-copy" data-clipboard-snippet="">';
      copyHtml += '<i class="ri-file-copy-2-line"></i><span>COPY</span>';
      copyHtml += '</button>';
      $(".highlight .code pre").before(copyHtml);
      $(".article pre code").before(copyHtml);
      var clipboard = new ClipboardJS('.btn-copy', {
        target: function(trigger) {
          return trigger.nextElementSibling;
        }
      });
      clipboard.on('success', function(e) {
        let $btn = $(e.trigger);
        $btn.addClass('copied');
        let $icon = $($btn.find('i'));
        $icon.removeClass('ri-file-copy-2-line');
        $icon.addClass('ri-checkbox-circle-line');
        let $span = $($btn.find('span'));
        $span[0].innerText = 'COPIED';
        
        wait(function () { // 等待两秒钟后恢复
          $icon.removeClass('ri-checkbox-circle-line');
          $icon.addClass('ri-file-copy-2-line');
          $span[0].innerText = 'COPY';
        }, 2000);
      });
      clipboard.on('error', function(e) {
        e.clearSelection();
        let $btn = $(e.trigger);
        $btn.addClass('copy-failed');
        let $icon = $($btn.find('i'));
        $icon.removeClass('ri-file-copy-2-line');
        $icon.addClass('ri-time-line');
        let $span = $($btn.find('span'));
        $span[0].innerText = 'COPY FAILED';
        
        wait(function () { // 等待两秒钟后恢复
          $icon.removeClass('ri-time-line');
          $icon.addClass('ri-file-copy-2-line');
          $span[0].innerText = 'COPY';
        }, 2000);
      });
    }
    initCopyCode();
  }(window, document);
</script>
 
<!-- CanvasBackground -->

<script>
  if (window.mermaid) {
    mermaid.initialize({ theme: "forest" });
  }
</script>


    
    

  </div>
</body>

</html>